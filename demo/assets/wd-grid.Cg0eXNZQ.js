var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,i=(e,s)=>{for(var t in s||(s={}))o.call(s,t)&&l(e,t,s[t]);if(a)for(var t of a(s))r.call(s,t)&&l(e,t,s[t]);return e},n=(e,a)=>s(e,t(a));import{d as p,r as u,c,C as d,aA as m,R as g,S as b,I as v,y as f,b as $,g as h,w as x,h as y,i as w,G as C,q as k,E as _,T as I,U as S,j as T,t as j,aU as O,a6 as P,aV as q,s as z,aR as D}from"./index-Bxqg77pZ.js";import{c as E,m as N,e as B,n as G,a as H,_ as R}from"./base64.C49xnrUQ.js";import{w as U}from"./wd-badge.CbLj-T0n.js";import{b as V,c as A}from"./page-wraper.dVabujC3.js";const L=Symbol("wd-grid"),F=n(i({},E),{clickable:B(!1),square:B(!1),column:Number,border:B(!1),bgColor:N(""),gutter:Number,hoverClass:String}),J=n(i({},E),{customText:N(""),customIcon:N(""),icon:N(""),iconSize:N("26px"),text:String,url:String,linkType:N("navigateTo"),useSlot:B(!1),useIconSlot:B(!1),useTextSlot:B(!1),isDot:{type:Boolean,default:void 0},type:String,value:G,max:Number,badgeProps:Object}),K=R(p(n(i({},{name:"wd-grid-item",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:J,emits:["itemclick"],setup(e,{expose:s,emit:t}){const a=e,o=t,r=u(""),l=u(""),i=u(""),n=u(0),p=u(!1),D=u(!0),{parent:E}=V(L),N=c((()=>d(E)&&d(E.children)?E.children.length:0)),B=c((()=>m(d(a.badgeProps)?g(a.badgeProps,b):{},g({max:a.max,isDot:a.isDot,modelValue:a.value,type:a.type},b))));function G(){if(!E)return;const e=E.children,s=E.props.column?100/E.props.column+"%":100/e.length+"%",t=E.props.gutter?`padding:${E.props.gutter}px ${E.props.gutter}px 0 0; background-color: transparent;`:"",a=E.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${s}`:"";l.value=E.props.gutter&&E.props.square?`right: ${E.props.gutter}px; bottom:${E.props.gutter}px;height: auto; background-color: ${E.props.bgColor}`:`background-color: ${E.props.bgColor}`,D.value=Boolean(E.props.border),p.value=Boolean(E.props.square),n.value=Number(E.props.gutter),r.value=`width: ${s}; ${a||t}`}function R(){if(E&&!E.props.clickable)return;const{url:e,linkType:s}=a;if(o("itemclick"),e)switch(s){case"navigateTo":z({url:e});break;case"reLaunch":q({url:e});break;case"redirectTo":P({url:e});break;case"switchTab":O({url:e});break;default:console.error(`[wot-design] warning(wd-grid-item): linkType can not be ${s}`)}}v((()=>N.value),(()=>{if(!E)return;const e=E.props.column?100/E.props.column+"%":100/(N.value||1)+"%",s=E.props.gutter?`padding:${E.props.gutter}px ${E.props.gutter}px 0 0; background-color: transparent;`:"",t=E.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${e}`:"";r.value=`width: ${e}; ${t||s}`}),{deep:!0,immediate:!0}),f((()=>{G()}));const A=c((()=>(null==E?void 0:E.props.clickable)?E.props.hoverClass?E.props.hoverClass:"wd-grid-item__content--hover":"none"));return s({setiIemClass:function(e){i.value=e},itemClass:i,init:G}),(e,s)=>{const t=w;return h(),$(t,{class:k(`wd-grid-item ${D.value&&!n.value?i.value:""} ${e.customClass}`),onClick:R,style:C(`${r.value};${e.customStyle}`)},{default:x((()=>[y(t,{class:k(`wd-grid-item__content ${p.value?"is-square":""} ${D.value&&n.value>0?"is-round":""}`),style:C(l.value),"hover-class":A.value},{default:x((()=>[_(e.$slots,"default",{},(()=>[y(t,{class:"wd-grid-item__wrapper"},{default:x((()=>[y(U,I(S(B.value)),{default:x((()=>[_(e.$slots,"icon",{},(()=>[y(H,{name:e.icon,size:e.iconSize,"custom-class":e.customIcon},null,8,["name","size","custom-class"])]),!0)])),_:3},16)])),_:3}),_(e.$slots,"text",{},(()=>[y(t,{class:k(`wd-grid-item__text ${e.customText}`)},{default:x((()=>[T(j(e.text),1)])),_:1},8,["class"])]),!0)]),!0)])),_:3},8,["class","style","hover-class"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-f494b19d"]]),M=R(p(n(i({},{name:"wd-grid",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:F,setup(e){const s=()=>new Promise((e=>setTimeout(e,20))),t=e,{linkChildren:a,children:o}=A(L);a({props:t}),v((()=>t.column),((e,s)=>{e!==s&&((!e||e<=0)&&console.error("The number of columns attribute value is invalid. The attribute must be greater than 0 and it is not recommended to use a larger value attribute."),s&&i())}),{deep:!0,immediate:!0}),v((()=>t.border),(e=>{e&&Promise.resolve().then(s).then((()=>{i()}))}),{deep:!0,immediate:!0}),v((()=>o),(()=>{l()}),{deep:!0});const r=c((()=>`${t.gutter?"padding-left:"+t.gutter+"px;padding-bottom:"+t.gutter+"px;":""}${t.customStyle}`)),l=D((()=>{i()}),50);function i(){o&&o.forEach(((e,s)=>{if(t.border){const{column:a}=t;if(a){const t=o.length-1===s||(s+1)%a==0,r=s+1<=a;r&&e.$.exposed.setiIemClass("is-first"),t&&e.$.exposed.setiIemClass("is-right"),!r&&e.$.exposed.setiIemClass("is-border")}else e.$.exposed.setiIemClass("is-first");o.length-1===s&&e.$.exposed.setiIemClass(e.$.exposed.itemClass.value+" is-last")}e.$.exposed.init()}))}return(e,s)=>{const t=w;return h(),$(t,{class:k(`wd-grid ${e.customClass}`),style:C(r.value)},{default:x((()=>[_(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-eed24fe4"]]);export{K as _,M as a};
