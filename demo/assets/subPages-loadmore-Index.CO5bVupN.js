var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,d=(e,a)=>{for(var s in a||(a={}))r.call(a,s)&&l(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&l(e,s,a[s]);return e},n=(e,t)=>a(e,s(t));import{d as i,c as u,C as c,R as m,S as f,r as p,b as _,g,w as v,z as y,m as b,j as h,t as j,l as w,F as x,h as O,k as T,T as P,U as C,G as S,q as k,i as I,V as z,W as E,e as G,f as R,n as $,p as q}from"./index-Bxqg77pZ.js";import{_ as D}from"./wd-divider.DmBiirlO.js";import{j as F,a as H}from"./page-wraper.dVabujC3.js";import{c as N,a as U,_ as V}from"./base64.C49xnrUQ.js";import{u as W}from"./useTranslate.CsR2puND.js";const A=n(d({},N),{state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object}),B=V(i(n(d({},{name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:A,emits:["reload"],setup(e,{emit:a}){const s=u((()=>{const e=c(t.loadingProps)?m(t.loadingProps,f):{};return e.customClass=`wd-loadmore__loading ${e.customClass||""}`,e})),t=e,r=a,{translate:o}=W("loadmore"),l=p(null);function d(){"error"===t.state&&(l.value="loading",r("reload"))}return(e,a)=>{const t=T,r=I;return g(),_(r,{class:k(["wd-loadmore",e.customClass]),style:S(e.customStyle),onClick:d},{default:v((()=>["finished"===e.state?(g(),_(D,{key:0},{default:v((()=>[h(j(e.finishedText||w(o)("finished")),1)])),_:1})):y("",!0),"error"===e.state?(g(),b(x,{key:1},[O(t,{class:"wd-loadmore__text"},{default:v((()=>[h(j(e.errorText||w(o)("error")),1)])),_:1}),O(t,{class:"wd-loadmore__text is-light"},{default:v((()=>[h(j(w(o)("retry")),1)])),_:1}),O(U,{name:"refresh","custom-class":"wd-loadmore__refresh"})],64)):y("",!0),"loading"===e.state?(g(),b(x,{key:2},[O(F,P(C(s.value)),null,16),O(t,{class:"wd-loadmore__text"},{default:v((()=>[h(j(e.loadingText||w(o)("loading")),1)])),_:1})],64)):y("",!0)])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-80386a47"]]),J=V(i({__name:"Index",setup(e){const a=p("loading"),s=p(0),t=p(60);function r(){setTimeout((()=>{s.value=s.value+15,a.value="loading"}),200)}return z((()=>{45===s.value?a.value="error":s.value<t.value?r():s.value===t.value&&(a.value="finished")})),E((()=>{r()})),(e,t)=>{const o=q,l=I,d=G(R("wd-loadmore"),B),n=G(R("page-wraper"),H);return g(),_(n,null,{default:v((()=>[O(l,{class:"container"},{default:v((()=>[(g(!0),b(x,null,$(s.value,(a=>(g(),_(l,{key:a,class:"list-item"},{default:v((()=>[O(o,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),O(l,{class:"right"},{default:v((()=>[h(j(e.$t("zhe-shi-yi-tiao-ce-shi-index")+a+1),1)])),_:2},1024)])),_:2},1024)))),128)),O(d,{state:a.value,onReload:r},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-bde3d351"]]);export{J as default};
