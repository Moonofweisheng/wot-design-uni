var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,u=(o,l,a)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[l]=a,i=(e,o)=>{for(var l in o||(o={}))t.call(o,l)&&u(e,l,o[l]);if(a)for(var l of a(o))n.call(o,l)&&u(e,l,o[l]);return e},s=(e,a)=>o(e,l(a));import{u as d,_ as r}from"./wd-message-box.CVyN7LL-.js";import{d as c,a4 as p,r as m,K as v,c as f,I as g,a7 as b,ac as h,b as w,z as _,g as y,w as V,h as x,E as $,aF as k,G as j,m as C,F as z,n as K,i as O,q as P,k as S,j as T,t as I,a8 as U,C as H,Z as F,_ as N,M as q,e as E,f as M,l as G,L,u as Q}from"./index-Bxqg77pZ.js";import{q as B,b as X,h as A,c as Y,m as D,a as Z,_ as J}from"./page-wraper.dVabujC3.js";import{c as R,d as W,e as ee,m as oe,n as le,g as ae,a as te,_ as ne}from"./base64.C49xnrUQ.js";import{p as ue,r as ie,c as se}from"./clickoutside.CJmLG0WC.js";import{_ as de}from"./demo-block.Q9ikF_jn.js";import{_ as re}from"./wd-slider.PFAsJpqe.js";import{_ as ce}from"./wd-button.Dfw0jUO9.js";import{w as pe}from"./wd-sort-button.Du9C8ZgX.js";import"./wd-input.BkxD_szL.js";import"./useTranslate.CsR2puND.js";import"./useTouch.kX4jUfrK.js";const me=Symbol("wd-drop-menu"),ve=s(i({},R),{zIndex:W(12),direction:oe("down"),modal:ee(!0),closeOnClickModal:ee(!0),duration:W(200)}),fe=s(i({},R),{customTitle:oe(""),customIcon:oe(""),modelValue:[String,Number],options:ae(),disabled:ee(!1),iconName:oe("check"),title:String,icon:oe("arrow-down"),iconSize:le,beforeToggle:Function,valueKey:oe("value"),labelKey:oe("label"),tipKey:oe("tip"),customPopupClass:oe(""),customPopupStyle:oe(""),popupHeight:oe(""),rootPortal:ee(!1)}),ge=ne(c(s(i({},{name:"wd-drop-menu-item",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:fe,emits:["update:modelValue","change","open","opened","close","closed"],setup(e,{expose:o,emit:l}){const a=e,t=l,n=p(B,null),u=m(!1),i=m(!1),s=m(),d=m(12),r=m(0),{parent:c}=X(me),{proxy:F}=v(),N=f((()=>{let e="";return e=u.value&&c?"down"===c.props.direction?`top: calc(var(--window-top) + ${c.offset.value}px); bottom: 0;`:`top: 0; bottom: calc(var(--window-bottom) + ${c.offset.value}px)`:"",e}));function q(){i.value&&(U(a.beforeToggle)?a.beforeToggle({status:!1,resolve:e=>{e&&E()}}):E())}function E(){i.value&&(i.value=!1)}function M(){i.value||(U(a.beforeToggle)?a.beforeToggle({status:!0,resolve:e=>{e&&G()}}):G())}function G(){u.value=!0,i.value=!0,c&&(r.value=Number(c.props.duration),s.value="down"===c.props.direction?"top":"bottom")}function L(){u.value=!1,t("closed")}function Q(){t("open")}function Y(){t("opened")}function D(){t("close")}return g((()=>a.modelValue),(e=>{H(e)&&"number"!=typeof e&&"string"!=typeof e&&console.error("[wot-design] warning(wd-drop-menu-item): the type of value should be a number or a string.")}),{deep:!0,immediate:!0}),b((()=>{n&&n.pushToQueue?n.pushToQueue(F):ue(F)})),h((()=>{n&&n.removeFromQueue?n.removeFromQueue(F):ie(F)})),o({getShowPop:function(){return i.value},open:M,close:q,toggle:function(){i.value?q():M()}}),(e,o)=>{const l=S,n=O,c=k;return u.value?(y(),w(n,{key:0,class:P(`wd-drop-item  ${e.customClass}`),style:j(`pointer-events: none; z-index: ${d.value}; ${N.value};${e.customStyle}`)},{default:V((()=>[x(A,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),"z-index":d.value,duration:r.value,position:s.value,"custom-style":`position: absolute; pointer-events: auto; max-height: ${e.popupHeight?e.popupHeight:"80%"}; ${e.customPopupStyle}`,"custom-class":e.customPopupClass,modal:!1,"close-on-click-modal":!1,"root-portal":e.rootPortal,onBeforeEnter:Q,onAfterEnter:Y,onBeforeLeave:D,onAfterLeave:L},{default:V((()=>[e.options.length?(y(),w(c,{key:0,style:j(e.popupHeight?{height:e.popupHeight}:""),"scroll-y":"","scroll-with-animation":"","show-scrollbar":!0},{default:V((()=>[(y(!0),C(z,null,K(e.options,((o,u)=>(y(),w(n,{key:u,onClick:e=>function(e){if(a.disabled)return;const{valueKey:o}=a,l=a.options[e],n=void 0!==l[o]?l[o]:l;t("update:modelValue",n),t("change",{value:n,selectedItem:l}),q()}(u),class:P("wd-drop-item__option "+((""!==o[e.valueKey]?o[e.valueKey]:o)===e.modelValue?"is-active":""))},{default:V((()=>[x(n,{class:P(`wd-drop-item__title ${e.customTitle}`)},{default:V((()=>[x(l,null,{default:V((()=>[T(I(o[e.labelKey]?o[e.labelKey]:o),1)])),_:2},1024),o[e.tipKey]?(y(),w(l,{key:0,class:"wd-drop-item__tip"},{default:V((()=>[T(I(o[e.tipKey]),1)])),_:2},1024)):_("",!0)])),_:2},1032,["class"]),(""!==o[e.valueKey]?o[e.valueKey]:o)===e.modelValue?(y(),w(te,{key:0,name:e.iconName,"custom-class":`wd-drop-item__icon ${e.customIcon}`},null,8,["name","custom-class"])):_("",!0)])),_:2},1032,["onClick","class"])))),128))])),_:1},8,["style"])):$(e.$slots,"default",{key:1},void 0,!0)])),_:3},8,["modelValue","z-index","duration","position","custom-style","custom-class","root-portal"])])),_:3},8,["class","style"])):_("",!0)}}})),[["__scopeId","data-v-e159c837"]]),be=ne(c(s(i({},{name:"wd-drop-menu",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:ve,setup(e){const o=e,l=p(B,null),a=m(`dropMenuId${F()}`),t=m(0),n=m(0),u=f((()=>"down"===o.direction?`top: calc(var(--window-top) + ${t.value}px); bottom: 0;`:`top: 0; bottom: calc(var(--window-bottom) + ${t.value}px)`)),{proxy:i}=v(),{linkChildren:s,children:d}=Y(me),r=f((()=>d.some((e=>e.$.exposed.getShowPop())))),c=m(!1);let h;function k(){}function S(e){const{title:o,modelValue:l,options:a,valueKey:t,labelKey:n}=e;if(o)return o;for(let u=0,i=a.length;u<i;u++)if(l===a[u][t])return a[u][n];console.error("[wot-design] warning(wd-drop-menu-item): no value is matched in the options option.")}function U(e){q(`#${a.value}`,!1,i).then((l=>{if(!l)return;const{top:a,bottom:u}=l;"down"===o.direction?t.value=Number(u):t.value=n.value-Number(a),e.$.exposed.toggle()}))}function H(){o.closeOnClickModal&&d.forEach((e=>{e.$.exposed.close()}))}return g(r,(e=>{h&&clearTimeout(h),e?c.value=!0:h=setTimeout((()=>{c.value=!1,h=null}),16)})),s({props:o,fold:U,offset:t}),g((()=>o.direction),(e=>{["up","down"].includes(e)||console.error("[wot ui] warning(wd-drop-menu): direction must be 'up' or 'down'")}),{deep:!0,immediate:!0}),b((()=>{n.value=N().windowHeight})),(e,o)=>{const t=O,n=E(M("wd-icon"),te);return y(),w(t,{style:j(e.customStyle),class:P(`wd-drop-menu ${e.customClass}`),onClick:L(k,["stop","prevent"]),id:a.value},{default:V((()=>[e.modal?(y(),w(D,{key:0,show:c.value,duration:e.duration,"z-index":12,"custom-style":u.value,onClick:H,onTouchmove:k},null,8,["show","duration","custom-style"])):_("",!0),x(t,{class:"wd-drop-menu__list"},{default:V((()=>[(y(!0),C(z,null,K(G(d),((e,o)=>(y(),w(t,{key:o,onClick:o=>function(e){e&&!e.disabled&&(l&&l.closeOther?l.closeOther(e):se(e),U(e))}(e),class:P(`wd-drop-menu__item ${e.disabled?"is-disabled":""} ${e.$.exposed.getShowPop()?"is-active":""}`)},{default:V((()=>[x(t,{class:"wd-drop-menu__item-title"},{default:V((()=>[x(t,{class:"wd-drop-menu__item-title-text"},{default:V((()=>[T(I(S(e)),1)])),_:2},1024),x(n,{name:e.icon,size:e.iconSize,"custom-class":"wd-drop-menu__arrow"},null,8,["name","size"])])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1}),$(e.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","id"])}}})),[["__scopeId","data-v-c72dab99"]]),he=ne(c({__name:"Index",setup(e){const{t:o}=Q(),l=d(),a=m(),t=m(),n=m(30),u=m(1),i=m(0),s=m(0),c=m(0),p=m(0),v=m(0),f=m(0),g=m(0),b=m(0),h=m(0),_=m([{label:o("quan-bu-shang-pin"),value:0},{label:o("xin-kuan-shang-pin"),value:1,tip:o("zhe-shi-bu-chong-xin-xi")},{label:o("zhe-shi-bi-jiao-chang-de-shai-xuan-tiao-jian-zhe-shi-bi-jiao-chang-de-shai-xuan-tiao-jian"),value:2}]),$=m([{label:o("zong-he"),value:0},{label:o("xiao-liang"),value:1},{label:o("shang-jia-shi-jian"),value:2}]);function k(){var e;null==(e=t.value)||e.initSlider()}function j({value:e}){console.log(e)}function C({value:e}){console.log(e)}function z({value:e}){console.log(e)}function K({value:e}){console.log(e)}function P({value:e}){console.log(e)}function S({value:e}){console.log(e)}function U({value:e}){console.log(e)}function H({value:e}){console.log(e)}function F({value:e}){console.log(e)}function N(){a.value.close()}const q=({status:e,resolve:a})=>{l.confirm({title:`${o(e?"yi-bu-da-kai":"yi-bu-guan-bi")}`,msg:`${o(e?"que-ding-yao-da-kai-xia-la-cai-dan-ma":"que-ding-yao-guan-bi-xia-la-cai-dan-ma")}`}).then((()=>{a(!0)})).catch((()=>{a(!1)}))};return(e,o)=>{const l=E(M("wd-message-box"),r),d=O,m=E(M("wd-drop-menu-item"),ge),G=E(M("wd-drop-menu"),be),Q=E(M("demo-block"),de),B=E(M("wd-slider"),re),X=E(M("wd-cell"),J),A=E(M("wd-button"),ce),Y=E(M("wd-sort-button"),pe),D=E(M("page-wraper"),Z);return y(),w(D,null,{default:V((()=>[x(d,{onClick:o[0]||(o[0]=L((()=>{}),["stop"]))},{default:V((()=>[x(l)])),_:1}),x(d,{class:"demo-body"},{default:V((()=>[x(Q,{title:e.$t("jiBenYongFa"),transparent:""},{default:V((()=>[x(G,null,{default:V((()=>[x(m,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=e=>u.value=e),options:_.value,onChange:j},null,8,["modelValue","options"]),x(m,{modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=e=>i.value=e),options:$.value,onChange:C},null,8,["modelValue","options"])])),_:1})])),_:1},8,["title"]),x(Q,{title:e.$t("zi-ding-yi-cai-dan-nei-rong"),transparent:""},{default:V((()=>[x(G,null,{default:V((()=>[x(m,{modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=e=>s.value=e),options:_.value,onChange:z},null,8,["modelValue","options"]),x(m,{ref_key:"dropMenu",ref:a,title:e.$t("shai-xuan"),onOpened:k},{default:V((()=>[x(d,null,{default:V((()=>[x(B,{modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=e=>n.value=e),ref_key:"slider",ref:t},null,8,["modelValue"]),x(X,{title:e.$t("biao-ti-wen-zi-10"),value:e.$t("nei-rong")},null,8,["title","value"]),x(X,{title:e.$t("biao-ti-wen-zi-10"),label:e.$t("miaoShuXinXi-0"),value:e.$t("nei-rong")},null,8,["title","label","value"]),x(d,{style:{padding:"0 10px 20px","box-sizing":"border-box"}},{default:V((()=>[x(A,{block:"",size:"large",onClick:N},{default:V((()=>[T(I(e.$t("zhu-yao-an-niu")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["title"])])),_:1})])),_:1},8,["title"]),x(Q,{title:e.$t("zi-ding-yi-cai-dan-xuan-xiang"),transparent:""},{default:V((()=>[x(d,{class:"custom-menu"},{default:V((()=>[x(G,{"custom-style":"flex: 1; min-width: 0"},{default:V((()=>[x(m,{modelValue:c.value,"onUpdate:modelValue":o[5]||(o[5]=e=>c.value=e),options:_.value,onChange:K},null,8,["modelValue","options"])])),_:1}),x(d,{style:{flex:"1"}},{default:V((()=>[x(Y,{modelValue:p.value,"onUpdate:modelValue":o[6]||(o[6]=e=>p.value=e),title:e.$t("shang-jia-shi-jian"),onChange:P},null,8,["modelValue","title"])])),_:1})])),_:1})])),_:1},8,["title"]),x(Q,{title:e.$t("zi-ding-yi-cai-dan-tu-biao"),transparent:""},{default:V((()=>[x(G,null,{default:V((()=>[x(m,{title:e.$t("di-tu"),icon:"location","icon-size":"14px"},null,8,["title"])])),_:1})])),_:1},8,["title"]),x(Q,{title:e.$t("yi-bu-da-kai-guan-bi"),transparent:""},{default:V((()=>[x(G,null,{default:V((()=>[x(m,{modelValue:h.value,"onUpdate:modelValue":o[7]||(o[7]=e=>h.value=e),options:_.value,onChange:j,"before-toggle":q},null,8,["modelValue","options"])])),_:1})])),_:1},8,["title"]),x(Q,{title:e.$t("xiang-shang-dan-chu"),transparent:""},{default:V((()=>[x(G,{direction:"up"},{default:V((()=>[x(m,{modelValue:v.value,"onUpdate:modelValue":o[8]||(o[8]=e=>v.value=e),options:_.value,onChange:S,"custom-title":"custom-title","custom-icon":"custom-icon"},null,8,["modelValue","options"]),x(m,{modelValue:f.value,"onUpdate:modelValue":o[9]||(o[9]=e=>f.value=e),options:$.value,onChange:U},null,8,["modelValue","options"])])),_:1})])),_:1},8,["title"]),x(Q,{title:e.$t("jinYong"),transparent:""},{default:V((()=>[x(G,{direction:"up"},{default:V((()=>[x(m,{modelValue:g.value,"onUpdate:modelValue":o[10]||(o[10]=e=>g.value=e),disabled:"",options:_.value,onChange:H},null,8,["modelValue","options"]),x(m,{modelValue:b.value,"onUpdate:modelValue":o[11]||(o[11]=e=>b.value=e),options:$.value,onChange:F},null,8,["modelValue","options"])])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-c5279a60"]]);export{he as default};
