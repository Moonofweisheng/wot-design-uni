var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&i(e,t,a[t]);return e},u=(e,l)=>a(e,t(l));import{c as d,g as r,a as p}from"./page-wraper.Di0VYMXm.js";import{d as c,an as v,c as f,O as m,C as g,J as b,y,N as _,L as h,H as w,G as x,au as j,b as $,g as k,w as z,m as I,h as q,F as O,n as S,i as C,q as U,l as P,D as A,j as L,t as E,E as N,b6 as V,u as D,r as G,e as H,f as F,p as J}from"./index-CO5J-Q2S.js";import{b as R,c as X,a as B,e as K,_ as M}from"./base64.DhmryiS1.js";import{_ as Q}from"./demo-block.Dkcx27sR.js";import{_ as T}from"./wd-button.C_HwThsm.js";import"./wd-root-portal.DiH5yP4Q.js";const W=u(o({},R),{value:K([String,Number]),disabled:X(!1),size:B("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:X(!1)}),Y=M(c(u(o({},{name:"wd-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:W,emits:["update:value","change","click"],setup(e,{expose:a,emit:t}){const l=".wd-segmented__item",s=e,n=t,i=v({activeIndex:0,activeStyle:""}),o=f((()=>s.disabled||!(!s.options[0]||!m(s.options[0]))&&s.options[0].disabled));g((()=>s.value),(()=>{p(),d(),s.vibrateShort&&V({})}),{immediate:!1});const{proxy:u}=b();function d(e=!0){h(l,!0,u).then((a=>{const t=a[i.activeIndex],l={position:"absolute",width:w(t.width),"z-index":0},s=a.slice(0,i.activeIndex).reduce(((e,a)=>e+Number(a.width)),0);s&&(l.transform=`translateX(${s}px)`),e&&(l.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),i.activeStyle=x(l)}))}function r(e,a){j(e,s.value)||(n("update:value",e),n("change",m(a)?a:{value:e}))}function p(){const e=s.options.findIndex((e=>{const a=m(e)?e.value:e;return j(a,s.value)}));if(e>=0)i.activeIndex=e;else{r(m(s.options[0])?s.options[0].value:s.options[0],s.options[0])}}return y((()=>{return e=this,a=null,t=function*(){p(),yield _(),d(!1)},new Promise(((l,s)=>{var n=e=>{try{o(t.next(e))}catch(a){s(a)}},i=e=>{try{o(t.throw(e))}catch(a){s(a)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,i);o((t=t.apply(e,a)).next())}));var e,a,t})),a({updateActiveStyle:d}),(e,a)=>{const t=C;return k(),$(t,{class:U(`wd-segmented ${e.customClass}`),style:N(e.customStyle)},{default:z((()=>[(k(!0),I(O,null,S(e.options,((a,l)=>(k(),$(t,{class:U(`wd-segmented__item is-${e.size} ${i.activeIndex===l?"is-active":""} ${e.disabled||P(m)(a)&&a.disabled?"is-disabled":""}`),onClick:e=>function(e,a){if(s.disabled||m(e)&&e.disabled)return;const t=m(e)?e.value:e;i.activeIndex=a,d(),r(t,e),n("click",m(e)?e:{value:t})}(a,l),key:l},{default:z((()=>[q(t,{class:"wd-segmented__item-label"},{default:z((()=>[e.$slots.label?A(e.$slots,"label",{key:0,option:P(m)(a)?a:{value:a}},void 0,!0):(k(),I(O,{key:1},[L(E(P(m)(a)?a.value:a),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),q(t,{class:U("wd-segmented__item--active "+(o.value?"is-disabled":"")),style:N(i.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-243ac856"]]),Z=M(c({__name:"Index",setup(e){const{t:a}=D(),t=f((()=>[a("pingLun"),a("dian-zan"),a("gong-xian"),a("da-shang")])),l=f((()=>[{value:a("li-lei"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/redpanda.jpg"}},{value:a("han-mei-mei"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/capybara.jpg"}},{value:a("lin-tao"),disabled:!0,payload:{avatar:"https://wot-ui.cn/assets/panda.jpg"}},{value:a("tom"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/meng.jpg"}}])),s=G(a("jian-jie")),n=G(a("xiang-qing")),i=G(a("pingLun")),o=G(a("da-shang-0")),u=G(a("han-mei-mei-0")),c=G(a("pingLun"));function v(e){console.log(e)}const m=G(a("dian-zan")),g=G(),b=G(!1);function y(){b.value=!0}function _(){var e;null==(e=g.value)||e.updateActiveStyle()}return(e,a)=>{const f=H(F("wd-toast"),d),h=H(F("wd-segmented"),Y),w=C,x=H(F("demo-block"),Q),j=J,I=H(F("wd-button"),T),O=H(F("wd-popup"),r),S=H(F("page-wraper"),p);return k(),$(w,null,{default:z((()=>[q(f),q(S,null,{default:z((()=>[q(x,{title:e.$t("da-xing-fen-duan-qi"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(h,{options:t.value,value:s.value,"onUpdate:value":a[0]||(a[0]=e=>s.value=e),size:"large",onChange:v},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("mo-ren-fen-duan-qi"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(h,{options:t.value,value:n.value,"onUpdate:value":a[1]||(a[1]=e=>n.value=e)},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("xiao-xing-fen-duan-qi"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(h,{options:t.value,value:i.value,"onUpdate:value":a[2]||(a[2]=e=>i.value=e),size:"small"},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("dai-zhen-dong-xiao-guo-de-fen-duan-qi"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(h,{options:t.value,value:o.value,"onUpdate:value":a[3]||(a[3]=e=>o.value=e),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("jin-yong-fen-duan-qi"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(h,{options:t.value,value:c.value,"onUpdate:value":a[4]||(a[4]=e=>c.value=e),disabled:""},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("zi-ding-yi-xuan-ran-fen-duan-qi-biao-qian"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(h,{options:l.value,value:u.value,"onUpdate:value":a[5]||(a[5]=e=>u.value=e),"vibrate-short":!0,onChange:v},{label:z((({option:e})=>[q(w,{class:"section-slot"},{default:z((()=>[q(j,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:e.payload.avatar},null,8,["src"]),q(w,{class:"name"},{default:z((()=>[L(E(e.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("zai-dan-chu-kuang-zhong-shi-yong"),transparent:""},{default:z((()=>[q(w,{class:"section"},{default:z((()=>[q(I,{onClick:y},{default:z((()=>[L(E(e.$t("da-kai-dan-chuang")),1)])),_:1})])),_:1})])),_:1},8,["title"]),q(O,{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value=e),position:"bottom",onAfterEnter:_,closable:"","custom-style":"height: 200px;padding: 0 24rpx;"},{default:z((()=>[q(w,{class:"title"},{default:z((()=>[L(E(e.$t("zai-dan-chu-kuang-zhong-shi-yong-0")),1)])),_:1}),q(h,{options:t.value,value:m.value,"onUpdate:value":a[6]||(a[6]=e=>m.value=e),onChange:v,ref_key:"segmentedRef",ref:g},null,8,["options","value"])])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-9ccc1e49"]]);export{Z as default};
