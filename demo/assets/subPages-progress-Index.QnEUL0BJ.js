var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,n=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&l(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&l(e,a,t[a]);return e},c=(e,r)=>t(e,a(r));import{d as u,r as i,c as p,D as g,I as d,b as f,g as m,w as v,h as b,z as h,i as y,G as w,q as _,j,t as x,C as O,N as k,O as $,P,e as z,f as N}from"./index-Bxqg77pZ.js";import{d as C,e as T,c as I,a as S,_ as M}from"./base64.C49xnrUQ.js";import{_ as E}from"./demo-block.Q9ikF_jn.js";import{_ as A}from"./wd-button.Dfw0jUO9.js";import{a as D}from"./page-wraper.dVabujC3.js";const G=c(n({},I),{percentage:C(0),hideText:T(!1),color:{type:[String,Array]},duration:C(30),status:String}),q=M(u(c(n({},{name:"wd-progress",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:G,setup(e){const t=e,a=i(""),r=i(0),s=i(0);let o=null;const l=p((()=>g({background:a.value,width:`${r.value}%`,"transition-duration":s.value*t.duration*.001+"s"}))),n=p((()=>t.status?`is-${t.status}`:"")),c=p((()=>{let e="";switch(t.status){case"danger":e="close-outline";break;case"success":e="check-outline";break;case"warning":e="warn-bold"}return e}));function u(){return e=this,a=null,o=function*(){const{percentage:e,color:a}=t;if(!O(a)||k(a)&&0===a.length)return s.value=Math.abs(e-r.value),yield $(),void(r.value=e);if(r.value===e)return;const o=k(a)?a:[a];!function(e){const t=e.every((e=>"string"==typeof e)),a=z(e);if(!t&&!a)throw Error("Color must be String or Object with color and percentage");if(a&&e.some((({percentage:e})=>Number.isNaN(e))))throw Error("All the percentage must can be formatted to Number")}(o);const l=function(e){const t=100/e.length;return z(e)?e.sort(((e,t)=>e.percentage-t.percentage)):e.map(((e,a)=>({color:e,percentage:(a+1)*t})))}(o);r.value>e?function(e,t){e.some((e=>{if(t<=e.percentage)return N(t,e.color),!0}))}(l,e):function(e,t){e.some(((a,s)=>{if(r.value<a.percentage&&a.percentage<=t)return N(a.percentage,a.color),!0;s===e.length-1&&N(t,a.color)}))}(l,e)},new Promise(((t,r)=>{var s=e=>{try{n(o.next(e))}catch(t){r(t)}},l=e=>{try{n(o.throw(e))}catch(t){r(t)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,l);n((o=o.apply(e,a)).next())}));var e,a,o}function z(e){return e.every((e=>P(e)&&Object.prototype.hasOwnProperty.call(e,"color")&&Object.prototype.hasOwnProperty.call(e,"percentage")))}function N(e,l){if(o)return;const{duration:n}=t;s.value=Math.abs(e-r.value),setTimeout((()=>{r.value=e,a.value=l,o=setTimeout((()=>{o&&clearTimeout(o),o=null,u()}),s.value*n)}),50)}return d((()=>[t.percentage,t.color,t.duration]),(()=>{var e;e=t.percentage,(Number.isNaN(e)||e<0||e>100)&&console.error("The value of percentage must be between 0 and 100"),u()}),{immediate:!0}),(e,t)=>{const a=y;return m(),f(a,{class:_(`wd-progress ${e.customClass}`),style:w(e.customStyle)},{default:v((()=>[b(a,{class:"wd-progress__outer"},{default:v((()=>[b(a,{class:_(`wd-progress__inner ${n.value}`),style:w(l.value)},null,8,["class","style"])])),_:1}),e.hideText?e.status?(m(),f(S,{key:1,"custom-class":`wd-progress__label wd-progress__icon ${n.value}`,name:c.value,color:"string"==typeof e.color?e.color:""},null,8,["custom-class","name","color"])):h("",!0):(m(),f(a,{key:0,class:"wd-progress__label"},{default:v((()=>[j(x(e.percentage)+"%",1)])),_:1}))])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-38fe3713"]]),B=u({__name:"Index",setup(e){const t=i(30),a=i(100),r=i(50),s=()=>{r.value=Math.min(r.value+10,100)},o=()=>{r.value=Math.max(r.value-10,0)},l=i([{color:"yellow",percentage:30},{color:"red",percentage:60},{color:"blue",percentage:80},{color:"black",percentage:90}]);return(e,n)=>{const c=z(N("wd-progress"),q),u=z(N("demo-block"),E),i=z(N("wd-button"),A),p=z(N("page-wraper"),D);return m(),f(p,null,{default:v((()=>[b(u,{title:e.$t("jiBenYongFa")},{default:v((()=>[b(c,{percentage:t.value},null,8,["percentage"])])),_:1},8,["title"]),b(u,{title:e.$t("bu-xian-shi-jin-du-wen-zi")},{default:v((()=>[b(c,{percentage:60,"hide-text":""})])),_:1},8,["title"]),b(u,{title:e.$t("jin-du-tiao-zhuang-tai")},{default:v((()=>[b(c,{percentage:100,"hide-text":"",status:"success"}),b(c,{percentage:80,"hide-text":"",status:"danger"}),b(c,{percentage:90,"hide-text":"",status:"warning"})])),_:1},8,["title"]),b(u,{title:e.$t("xiu-gai-yan-se")},{default:v((()=>[b(c,{percentage:80,color:"#00c740"})])),_:1},8,["title"]),b(u,{title:e.$t("yan-se-shu-zu")},{default:v((()=>[b(c,{percentage:100,color:["#00c740","#ffb300","#e2231a","#0083ff"]}),b(c,{percentage:a.value,color:l.value},null,8,["percentage","color"])])),_:1},8,["title"]),b(u,{title:e.$t("dong-tai-she-zhi")},{default:v((()=>[b(c,{percentage:r.value},null,8,["percentage"]),b(i,{"custom-style":"margin-right: 10px;",onClick:s,type:"success",size:"small"},{default:v((()=>[j("+10")])),_:1}),b(i,{onClick:o,type:"error",size:"small"},{default:v((()=>[j("-10")])),_:1})])),_:1},8,["title"])])),_:1})}}});export{B as default};
