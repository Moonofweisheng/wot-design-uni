var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,t=(l,a,s)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,n=(e,l)=>{for(var a in l||(l={}))o.call(l,a)&&t(e,a,l[a]);if(s)for(var a of s(l))r.call(l,a)&&t(e,a,l[a]);return e},i=(e,s)=>l(e,a(s)),u=(e,l,a)=>new Promise(((s,o)=>{var r=e=>{try{n(a.next(e))}catch(l){o(l)}},t=e=>{try{n(a.throw(e))}catch(l){o(l)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,t);n((a=a.apply(e,l)).next())}));import{d as c,B as d,r as p,I as f,c as m,C as y,D as v,au as h,b,g,i as _,G as w,q as x,w as k,z as S,h as C,k as $,j as I,E as j,t as P,ao as O,O as V}from"./index-Bxqg77pZ.js";import{e as E,m as W,g as q,b as T,d as B,c as z,a as L,_ as H}from"./base64.C49xnrUQ.js";import{l as K,b as M,F as N}from"./page-wraper.dVabujC3.js";import{u as A}from"./useTranslate.CsR2puND.js";const D=i(n({},z),{customInputClass:W(""),customLabelClass:W(""),placeholder:String,placeholderStyle:String,placeholderClass:W(""),cursorSpacing:B(0),cursor:B(-1),selectionStart:B(-1),selectionEnd:B(-1),adjustPosition:E(!0),holdKeyboard:E(!1),confirmType:W("done"),confirmHold:E(!1),focus:E(!1),type:W("text"),maxlength:{type:Number,default:-1},disabled:E(!1),alwaysEmbed:E(!1),alignRight:E(!1),modelValue:T(""),showPassword:E(!1),clearable:E(!1),readonly:E(!1),prefixIcon:String,suffixIcon:String,showWordLimit:E(!1),label:String,labelWidth:W(""),size:String,error:E(!1),center:E(!1),noBorder:E(!1),required:E(!1),prop:String,rules:q(),clearTrigger:W("always"),focusWhenClear:E(!0),ignoreCompositionEvent:E(!0),inputmode:W("text"),markerSide:W("before"),enableNative:E(!0)}),F=H(c(i(n({},{name:"wd-input",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:D,emits:["update:modelValue","clear","blur","focus","input","keyboardheightchange","confirm","clicksuffixicon","clickprefixicon","click"],setup(e,{emit:l}){const a=e,s=l,o=d(),{translate:r}=A("input"),t=p(!1),n=p(!1),i=p(!1),c=p(!1),E=p(function(){const e=function(e){const{maxlength:l}=a;if(y(l)&&-1!==l&&String(e).length>l)return e.toString().slice(0,l);return e}(a.modelValue);l=e,o=a.modelValue,h(String(l),String(o))||s("update:modelValue",e);var l,o;return e}()),W=K();f((()=>a.focus),(e=>{i.value=e}),{immediate:!0,deep:!0}),f((()=>a.modelValue),(e=>{E.value=y(e)?String(e):""}));const{parent:q}=M(N),T=m((()=>y(a.placeholder)?a.placeholder:r("placeholder"))),B=m((()=>{const{disabled:e,readonly:l,clearable:s,clearTrigger:o}=a;return!(!s||l||e||!E.value||!("always"===o||"focus"===a.clearTrigger&&c.value))})),z=m((()=>{const{disabled:e,readonly:l,maxlength:s,showWordLimit:o}=a;return Boolean(!e&&!l&&y(s)&&s>-1&&o)})),H=m((()=>q&&a.prop&&q.errorMessages&&q.errorMessages[a.prop]?q.errorMessages[a.prop]:"")),D=m((()=>{let e=!1;if(q&&q.props.rules){const l=q.props.rules;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&s===a.prop&&Array.isArray(l[s])&&(e=l[s].some((e=>e.required)))}return a.required||a.rules.some((e=>e.required))||e})),F=m((()=>`wd-input  ${a.label||o.label?"is-cell":""} ${a.center?"is-center":""} ${W.border.value?"is-border":""} ${a.size?"is-"+a.size:""} ${a.error?"is-error":""} ${a.disabled?"is-disabled":""}  ${E.value&&String(E.value).length>0?"is-not-empty":""}  ${a.noBorder?"is-no-border":""} ${a.customClass}`)),G=m((()=>`wd-input__label ${a.customLabelClass}`)),R=m((()=>`wd-input__placeholder  ${a.placeholderClass}`)),U=m((()=>a.labelWidth?v({"min-width":a.labelWidth,"max-width":a.labelWidth}):""));function J(){t.value=!t.value}function Q(){return u(this,null,(function*(){c.value=!1,E.value="",a.focusWhenClear&&(n.value=!0,i.value=!1),yield V(),a.focusWhenClear&&(i.value=!0,c.value=!0),s("update:modelValue",E.value),s("clear")}))}function X(){return u(this,null,(function*(){yield V(150),n.value?n.value=!1:(c.value=!1,s("blur",{value:E.value}))}))}function Y({detail:e}){c.value=!0,s("focus",e)}function Z({detail:e}){s("update:modelValue",E.value),s("input",e)}function ee({detail:e}){s("keyboardheightchange",e)}function le({detail:e}){s("confirm",e)}function ae(){s("clicksuffixicon")}function se(){s("clickprefixicon")}function oe(e){s("click",e)}return(e,l)=>{const s=$,o=_,r=O;return g(),b(o,{class:x(F.value),style:w(e.customStyle),onClick:oe},{default:k((()=>[e.label||e.$slots.label?(g(),b(o,{key:0,class:x(G.value),style:w(U.value)},{default:k((()=>[D.value&&"before"===e.markerSide?(g(),b(s,{key:0,class:"wd-input__required wd-input__required--left"},{default:k((()=>[I("*")])),_:1})):S("",!0),e.prefixIcon||e.$slots.prefix?(g(),b(o,{key:1,class:"wd-input__prefix"},{default:k((()=>[e.prefixIcon&&!e.$slots.prefix?(g(),b(L,{key:0,"custom-class":"wd-input__icon",name:e.prefixIcon,onClick:se},null,8,["name"])):j(e.$slots,"prefix",{key:1},void 0,!0)])),_:3})):S("",!0),C(o,{class:"wd-input__label-inner"},{default:k((()=>[e.label&&!e.$slots.label?(g(),b(s,{key:0},{default:k((()=>[I(P(e.label),1)])),_:1})):e.$slots.label?j(e.$slots,"label",{key:1},void 0,!0):S("",!0)])),_:3}),D.value&&"after"===e.markerSide?(g(),b(s,{key:2,class:"wd-input__required"},{default:k((()=>[I("*")])),_:1})):S("",!0)])),_:3},8,["class","style"])):S("",!0),C(o,{class:"wd-input__body"},{default:k((()=>[C(o,{class:"wd-input__value"},{default:k((()=>[!e.prefixIcon&&!e.$slots.prefix||e.label?S("",!0):(g(),b(o,{key:0,class:"wd-input__prefix"},{default:k((()=>[e.prefixIcon&&!e.$slots.prefix?(g(),b(L,{key:0,"custom-class":"wd-input__icon",name:e.prefixIcon,onClick:se},null,8,["name"])):j(e.$slots,"prefix",{key:1},void 0,!0)])),_:3})),C(r,{class:x(["wd-input__inner",e.prefixIcon?"wd-input__inner--prefix":"",z.value?"wd-input__inner--count":"",e.alignRight?"is-align-right":"",e.customInputClass]),type:e.type,password:e.showPassword&&!t.value,modelValue:E.value,"onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e),placeholder:T.value,disabled:e.disabled||e.readonly,maxlength:e.maxlength,focus:i.value,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"placeholder-style":e.placeholderStyle,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,"always-embed":e.alwaysEmbed,"placeholder-class":R.value,ignoreCompositionEvent:e.ignoreCompositionEvent,inputmode:e.inputmode,"enable-native":e.enableNative,onInput:Z,onFocus:Y,onBlur:X,onConfirm:le,onKeyboardheightchange:ee},null,8,["class","type","password","modelValue","placeholder","disabled","maxlength","focus","confirm-type","confirm-hold","cursor","cursor-spacing","placeholder-style","selection-start","selection-end","adjust-position","hold-keyboard","always-embed","placeholder-class","ignoreCompositionEvent","inputmode","enable-native"]),a.readonly?(g(),b(o,{key:1,class:"wd-input__readonly-mask"})):S("",!0),B.value||e.showPassword||e.suffixIcon||z.value||e.$slots.suffix?(g(),b(o,{key:2,class:"wd-input__suffix"},{default:k((()=>[B.value?(g(),b(L,{key:0,"custom-class":"wd-input__clear",name:"error-fill",onClick:Q})):S("",!0),e.showPassword?(g(),b(L,{key:1,"custom-class":"wd-input__icon",name:t.value?"view":"eye-close",onClick:J},null,8,["name"])):S("",!0),z.value?(g(),b(o,{key:2,class:"wd-input__count"},{default:k((()=>[C(s,{class:x([E.value&&String(E.value).length>0?"wd-input__count-current":"",String(E.value).length>e.maxlength?"is-error":""])},{default:k((()=>[I(P(String(E.value).length),1)])),_:1},8,["class"]),I(" /"+P(e.maxlength),1)])),_:1})):S("",!0),e.suffixIcon&&!e.$slots.suffix?(g(),b(L,{key:3,"custom-class":"wd-input__icon",name:e.suffixIcon,onClick:ae},null,8,["name"])):j(e.$slots,"suffix",{key:4},void 0,!0)])),_:3})):S("",!0)])),_:3}),H.value?(g(),b(o,{key:0,class:"wd-input__error-message"},{default:k((()=>[I(P(H.value),1)])),_:1})):S("",!0)])),_:3})])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-56618489"]]);export{F as _};
