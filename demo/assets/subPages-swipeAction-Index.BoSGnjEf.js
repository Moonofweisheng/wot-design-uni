var t=Object.defineProperty,a=Object.defineProperties,e=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,s=(a,e,l)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l,n=(t,a)=>{for(var e in a||(a={}))o.call(a,e)&&s(t,e,a[e]);if(l)for(var e of l(a))u.call(a,e)&&s(t,e,a[e]);return t},i=(t,l)=>a(t,e(l));import{q as c,f as d,b as r,a as f,c as b,_ as p}from"./page-wraper.Di0VYMXm.js";import{d as _,a3 as v,r as g,J as h,C as m,a7 as k,y as w,ac as $,L as y,b as z,g as j,w as C,h as V,i as O,E as x,D as P,K as T,q as I,u as F,e as Q,f as q,l as D,j as M,t as S}from"./index-CO5J-Q2S.js";import{p as E,r as G,c as K}from"./clickoutside.CJmLG0WC.js";import{u as B}from"./useTouch.DvgJUR0k.js";import{b as H,c as J,a as L,_ as U}from"./base64.DhmryiS1.js";import{_ as X}from"./demo-block.Dkcx27sR.js";import{_ as Y}from"./wd-button.C_HwThsm.js";import"./wd-root-portal.DiH5yP4Q.js";const A=i(n({},H),{modelValue:L("close"),disabled:J(!1),beforeClose:Function}),N=U(_(i(n({},{name:"wd-swipe-action",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:A,emits:["click","update:modelValue"],setup(t,{expose:a,emit:e}){const l=t,o=e,u=v(c,null),s=g(""),n=g(0),i=g(0),d=g(!1),r=B(),{proxy:f}=h();function b(t,a){l.disabled||p().then((([e,l])=>{switch(t){case"close":if(0===i.value)return;M("value",a);break;case"left":_(e);break;case"right":_(-l)}}))}function p(){return Promise.all([y(".wd-swipe-action__left",!1,f).then((t=>t.width?t.width:0)),y(".wd-swipe-action__right",!1,f).then((t=>t.width?t.width:0))])}function _(t=0){const a=`translate3d(${t}px, 0, 0)`,e=d.value?"none":".6s cubic-bezier(0.18, 0.89, 0.32, 1)";s.value=`\n        -webkit-transform: ${a};\n        -webkit-transition: ${e};\n        transform: ${a};\n        transition: ${e};\n      `,i.value=t}function F(t){l.disabled||0===i.value||(M("click",t=t||"inside"),o("click",{value:t}))}function Q(t){l.disabled||(n.value=i.value,r.touchStart(t),u&&u.closeOther?u.closeOther(f):K(f))}function q(t){if(l.disabled)return;if(r.touchMove(t),"vertical"===r.direction.value)return;t.preventDefault(),t.stopPropagation(),d.value=!0;const a=n.value+r.deltaX.value;p().then((([e,l])=>0===e&&a>0||0===l&&a<0?(_(0),Q(t)):0!==e&&a>=e?(_(e),Q(t)):0!==l&&-a>=l?(_(-l),Q(t)):void _(a)))}function D(){if(l.disabled)return;const t=.3;d.value=!1,p().then((([a,e])=>{n.value<0&&i.value<0&&i.value-n.value<e*t?(_(-e),o("update:modelValue","right")):n.value>0&&i.value>0&&n.value-i.value<a*t?(_(a),o("update:modelValue","left")):e>0&&n.value>=0&&i.value<0&&Math.abs(i.value)>e*t?(_(-e),o("update:modelValue","right")):a>0&&n.value<=0&&i.value>0&&Math.abs(i.value)>a*t?(_(a),o("update:modelValue","left")):M("swipe")}))}function M(t,a){if("swipe"===t&&0===n.value)return _(0);"swipe"===t&&n.value>0?a="left":"swipe"===t&&n.value<0&&(a="right"),t&&a&&l.beforeClose&&l.beforeClose(t,a),_(0),"close"!==l.modelValue&&o("update:modelValue","close")}return m((()=>l.modelValue),((t,a)=>{b(t,a)}),{deep:!0}),k((()=>{u&&u.pushToQueue?u.pushToQueue(f):E(f),n.value=0,i.value=0,d.value=!1})),w((()=>{d.value=!0,b(l.modelValue),d.value=!1})),$((()=>{u&&u.removeFromQueue?u.removeFromQueue(f):G(f)})),a({close:M}),(t,a)=>{const e=O;return j(),z(e,{class:I(`wd-swipe-action ${t.customClass}`),style:x(t.customStyle),onClick:a[2]||(a[2]=T((t=>F()),["stop"])),onTouchstart:Q,onTouchmove:q,onTouchend:D,onTouchcancel:D},{default:C((()=>[V(e,{class:"wd-swipe-action__wrapper",style:x(s.value)},{default:C((()=>[V(e,{class:"wd-swipe-action__left",onClick:a[0]||(a[0]=t=>F("left"))},{default:C((()=>[P(t.$slots,"left",{},void 0,!0)])),_:3}),P(t.$slots,"default",{},void 0,!0),V(e,{class:"wd-swipe-action__right",onClick:a[1]||(a[1]=t=>F("right"))},{default:C((()=>[P(t.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-4e3986a8"]]),R=U(_({__name:"Index",setup(t){const{t:a}=F(),{closeOutside:e}=d(),l=r(),o=g("close"),u=(t,e)=>{"click"===t?l.show(a("reason-position-dao-zhi-hua-dong-an-niu-guan-bi",[t,e])):l.show(a("reason-dao-zhi-position-hua-dong-an-niu-guan-bi",[t,e]))};function s(t){o.value=t}function n({value:t}){l.show(a("dian-ji-value-guan-bi-cao-zuo-an-niu",[t]))}function i(t){l.show(a("dian-ji-le-action")+t)}function c(){}return(t,a)=>{const l=Q(q("wd-toast"),b),d=Q(q("wd-cell"),p),r=O,_=Q(q("wd-swipe-action"),N),v=Q(q("demo-block"),X),g=Q(q("wd-button"),Y),h=Q(q("page-wraper"),f);return j(),z(h,null,{default:C((()=>[V(l),V(r,{onClick:T(D(e),["stop"])},{default:C((()=>[V(v,{transparent:"",title:t.$t("jiBenYongFa")},{default:C((()=>[V(_,null,{right:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"},onClick:a[0]||(a[0]=t=>i("操作1"))},{default:C((()=>[M(S(t.$t("cao-zuo-1")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"},onClick:a[1]||(a[1]=t=>i("操作2"))},{default:C((()=>[M(S(t.$t("cao-zuo-2")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"},onClick:a[2]||(a[2]=t=>i("操作3"))},{default:C((()=>[M(S(t.$t("cao-zuo-3")),1)])),_:1})])),_:1})])),default:C((()=>[V(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),V(v,{transparent:"",title:t.$t("zuo-you-hua-dong")},{default:C((()=>[V(_,null,{left:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"}},{default:C((()=>[M(S(t.$t("cao-zuo-1-0")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"}},{default:C((()=>[M(S(t.$t("cao-zuo-2-0")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"}},{default:C((()=>[M(S(t.$t("cao-zuo-3-0")),1)])),_:1})])),_:1})])),right:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"}},{default:C((()=>[M(S(t.$t("cao-zuo-4")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"}},{default:C((()=>[M(S(t.$t("cao-zuo-5")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"}},{default:C((()=>[M(S(t.$t("cao-zuo-6")),1)])),_:1})])),_:1})])),default:C((()=>[V(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),V(v,{transparent:"",title:t.$t("qie-huan-an-niu")},{default:C((()=>[V(_,{modelValue:o.value,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value=t),"before-close":u},{left:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"}},{default:C((()=>[M(S(t.$t("cao-zuo-1-1")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"}},{default:C((()=>[M(S(t.$t("cao-zuo-2-1")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"}},{default:C((()=>[M(S(t.$t("cao-zuo-3-1")),1)])),_:1})])),_:1})])),right:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"}},{default:C((()=>[M(S(t.$t("cao-zuo-4-0")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"}},{default:C((()=>[M(S(t.$t("cao-zuo-5-0")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"}},{default:C((()=>[M(S(t.$t("cao-zuo-6-0")),1)])),_:1})])),_:1})])),default:C((()=>[V(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),V(r,{class:"button-group"},{default:C((()=>[V(r,{onClick:T(c,["stop"])},{default:C((()=>[V(g,{size:"small",onClick:a[4]||(a[4]=t=>s("left"))},{default:C((()=>[M(S(t.$t("da-kai-zuo-bian")),1)])),_:1})])),_:1}),V(r,{onClick:T(c,["stop"])},{default:C((()=>[V(g,{size:"small",onClick:a[5]||(a[5]=t=>s("close"))},{default:C((()=>[M(S(t.$t("guan-bi-suo-you")),1)])),_:1})])),_:1}),V(r,{onClick:T(c,["stop"])},{default:C((()=>[V(g,{size:"small",onClick:a[6]||(a[6]=t=>s("right"))},{default:C((()=>[M(S(t.$t("da-kai-you-bian")),1)])),_:1})])),_:1})])),_:1}),V(v,{transparent:"",title:t.$t("dian-ji-shi-jian")},{default:C((()=>[V(_,{onClick:n},{right:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"}},{default:C((()=>[M(S(t.$t("cao-zuo-1-2")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"}},{default:C((()=>[M(S(t.$t("cao-zuo-2-2")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"}},{default:C((()=>[M(S(t.$t("cao-zuo-3-2")),1)])),_:1})])),_:1})])),default:C((()=>[V(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),V(v,{transparent:"",title:t.$t("jin-yong-hua-dong-an-niu")},{default:C((()=>[V(_,{disabled:""},{right:C((()=>[V(r,{class:"action"},{default:C((()=>[V(r,{class:"button",style:{background:"#fa4350"}},{default:C((()=>[M(S(t.$t("cao-zuo-1-3")),1)])),_:1}),V(r,{class:"button",style:{background:"#f0883a"}},{default:C((()=>[M(S(t.$t("cao-zuo-2-3")),1)])),_:1}),V(r,{class:"button",style:{background:"#4d80f0"}},{default:C((()=>[M(S(t.$t("cao-zuo-3-3")),1)])),_:1})])),_:1})])),default:C((()=>[V(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"])])),_:1},8,["onClick"])])),_:1})}}}),[["__scopeId","data-v-30b7fbf6"]]);export{R as default};
