var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,d=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&r(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&r(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{d as u,r as c,c as i,b as y,g as p,i as m,q as x,w as b,h as k,z as f,m as w,F as _,j as v,t as h,B as g,I as O,G as j,E as K,k as S,n as T}from"./index-Bxqg77pZ.js";import{j as I,h as P}from"./page-wraper.dVabujC3.js";import{e as V,b as z,m as C,a as A,_ as B,c as D,d as $}from"./base64.C49xnrUQ.js";import{u as M}from"./useTouch.kX4jUfrK.js";const G={type:C(""),text:z(""),wider:V(!1),large:V(!1),loading:V(!1)},H=B(u(n(d({},{name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:G,emits:["press"],setup(e,{emit:t}){const a=e,l=t,o=M(),s=c(!1),r=i((()=>`wd-key ${a.large?"wd-key--large":""} ${"delete"===a.type?"wd-key--delete":""} ${"close"===a.type?"wd-key--close":""}`));function d(e){o.touchStart(e),s.value=!0}function n(e){o.touchMove(e),o.direction.value&&(s.value=!1)}function u(){s.value&&(s.value=!1,l("press",a.text,a.type))}return(e,t)=>{const l=m;return p(),y(l,{class:x("wd-key-wrapper "+(e.wider?"wd-key-wrapper--wider":"")),onTouchstart:d,onTouchmove:n,onTouchend:u},{default:b((()=>[k(l,{class:x(r.value)},{default:b((()=>[a.loading?(p(),y(I,{key:0,"custom-class":"wd-key__loading-icon"})):f("",!0),"delete"===e.type?(p(),w(_,{key:1},[e.text?(p(),w(_,{key:0},[v(h(e.text),1)],64)):(p(),y(A,{key:1,"custom-class":"wd-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(p(),w(_,{key:2},[e.text?(p(),w(_,{key:0},[v(h(e.text),1)],64)):(p(),y(A,{key:1,"custom-class":"wd-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(p(),w(_,{key:3},[v(h(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}})),[["__scopeId","data-v-82fa53f0"]]),E=n(d({},D),{visible:V(!1),modelValue:C(""),title:String,mode:C("default"),zIndex:$(100),maxlength:$(1/0),showDeleteKey:V(!0),randomKeyOrder:V(!1),closeText:String,deleteText:String,closeButtonLoading:V(!1),modal:V(!1),hideOnClickOutside:V(!0),lockScroll:V(!0),safeAreaInsetBottom:V(!0),extraKey:[String,Array],rootPortal:V(!1)}),L=B(u(n(d({},{name:"wd-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:E,emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:t}){const a=e,l=t,o=g(),s=c(a.visible);O((()=>a.visible),(e=>{s.value=e}));const r=i((()=>"custom"===a.mode?function(){const e=I(),t=Array.isArray(a.extraKey)?a.extraKey:[a.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...I(),{text:a.extraKey,type:"extra"},{text:0},{text:a.showDeleteKey?a.deleteText:"",type:a.showDeleteKey?"delete":""}])),d=i((()=>a.closeText&&"default"===a.mode)),n=i((()=>!!a.title||!!o.title)),u=i((()=>n.value||d.value));function I(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return a.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const V=()=>{l("close"),l("update:visible",!1)},z=(e,t)=>{if(""===e&&"extra"===t)return V();const o=a.modelValue;"delete"===t?(l("delete"),l("update:modelValue",o.slice(0,o.length-1))):"close"===t?V():o.length<+a.maxlength&&(l("input",e),l("update:modelValue",o+e))};return(e,t)=>{const a=S,l=m;return p(),y(P,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,"root-portal":e.rootPortal,onClickModal:V},{default:b((()=>[k(l,{class:x(`wd-number-keyboard ${e.customClass}`),style:j(e.customStyle)},{default:b((()=>[u.value?(p(),y(l,{key:0,class:"wd-number-keyboard__header"},{default:b((()=>[n.value?K(e.$slots,"title",{key:0},(()=>[k(a,{class:"wd-number-keyboard__title"},{default:b((()=>[v(h(e.title),1)])),_:1})]),!0):f("",!0),d.value?(p(),y(l,{key:1,class:"wd-number-keyboard__close","hover-class":"wd-number-keyboard__close--hover",onClick:V},{default:b((()=>[k(a,null,{default:b((()=>[v(h(e.closeText),1)])),_:1})])),_:1})):f("",!0)])),_:3})):f("",!0),k(l,{class:"wd-number-keyboard__body"},{default:b((()=>[k(l,{class:"wd-number-keyboard__keys"},{default:b((()=>[(p(!0),w(_,null,T(r.value,(e=>(p(),y(H,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:z},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(p(),y(l,{key:0,class:"wd-number-keyboard__sidebar"},{default:b((()=>[e.showDeleteKey?(p(),y(H,{key:0,large:"",text:e.deleteText,type:"delete",onPress:z},null,8,["text"])):f("",!0),k(H,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:z},null,8,["text","loading"])])),_:1})):f("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll","root-portal"])}}})),[["__scopeId","data-v-a1ee65a2"]]);export{L as _};
