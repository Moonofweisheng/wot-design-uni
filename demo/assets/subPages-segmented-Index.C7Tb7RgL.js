var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&i(e,t,a[t]);return e},u=(e,l)=>a(e,t(l));import{e as d,h as r,a as p}from"./page-wraper.dVabujC3.js";import{d as c,aj as v,c as f,P as m,I as g,K as b,y,O as h,M as _,H as w,D as x,au as j,b as $,g as z,w as k,m as I,h as q,F as O,n as S,i as C,q as P,l as U,E as A,j as E,t as L,G as V,b6 as D,u as G,r as H,e as N,f as F,p as K}from"./index-Bxqg77pZ.js";import{c as M,e as R,m as X,f as B,_ as J}from"./base64.C49xnrUQ.js";import{_ as Q}from"./demo-block.Q9ikF_jn.js";import{_ as T}from"./wd-button.Dfw0jUO9.js";const W=u(o({},M),{value:B([String,Number]),disabled:R(!1),size:X("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:R(!1)}),Y=J(c(u(o({},{name:"wd-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:W,emits:["update:value","change","click"],setup(e,{expose:a,emit:t}){const l=".wd-segmented__item",s=e,n=t,i=v({activeIndex:0,activeStyle:""}),o=f((()=>s.disabled||!(!s.options[0]||!m(s.options[0]))&&s.options[0].disabled));g((()=>s.value),(()=>{p(),d(),s.vibrateShort&&D({})}),{immediate:!1});const{proxy:u}=b();function d(e=!0){_(l,!0,u).then((a=>{const t=a[i.activeIndex],l={position:"absolute",width:w(t.width),"z-index":0},s=a.slice(0,i.activeIndex).reduce(((e,a)=>e+Number(a.width)),0);s&&(l.transform=`translateX(${s}px)`),e&&(l.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),i.activeStyle=x(l)}))}function r(e,a){j(e,s.value)||(n("update:value",e),n("change",m(a)?a:{value:e}))}function p(){const e=s.options.findIndex((e=>{const a=m(e)?e.value:e;return j(a,s.value)}));if(e>=0)i.activeIndex=e;else{r(m(s.options[0])?s.options[0].value:s.options[0],s.options[0])}}return y((()=>{return e=this,a=null,t=function*(){p(),yield h(),d(!1)},new Promise(((l,s)=>{var n=e=>{try{o(t.next(e))}catch(a){s(a)}},i=e=>{try{o(t.throw(e))}catch(a){s(a)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,i);o((t=t.apply(e,a)).next())}));var e,a,t})),a({updateActiveStyle:d}),(e,a)=>{const t=C;return z(),$(t,{class:P(`wd-segmented ${e.customClass}`),style:V(e.customStyle)},{default:k((()=>[(z(!0),I(O,null,S(e.options,((a,l)=>(z(),$(t,{class:P(`wd-segmented__item is-${e.size} ${i.activeIndex===l?"is-active":""} ${e.disabled||U(m)(a)&&a.disabled?"is-disabled":""}`),onClick:e=>function(e,a){if(s.disabled||m(e)&&e.disabled)return;const t=m(e)?e.value:e;i.activeIndex=a,d(),r(t,e),n("click",m(e)?e:{value:t})}(a,l),key:l},{default:k((()=>[q(t,{class:"wd-segmented__item-label"},{default:k((()=>[e.$slots.label?A(e.$slots,"label",{key:0,option:U(m)(a)?a:{value:a}},void 0,!0):(z(),I(O,{key:1},[E(L(U(m)(a)?a.value:a),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),q(t,{class:P("wd-segmented__item--active "+(o.value?"is-disabled":"")),style:V(i.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-243ac856"]]),Z=J(c({__name:"Index",setup(e){const{t:a}=G(),t=f((()=>[a("pingLun"),a("dian-zan"),a("gong-xian"),a("da-shang")])),l=f((()=>[{value:a("li-lei"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/redpanda.jpg"}},{value:a("han-mei-mei"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/capybara.jpg"}},{value:a("lin-tao"),disabled:!0,payload:{avatar:"https://wot-ui.cn/assets/panda.jpg"}},{value:a("tom"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/meng.jpg"}}])),s=H(a("jian-jie")),n=H(a("xiang-qing")),i=H(a("pingLun")),o=H(a("da-shang-0")),u=H(a("han-mei-mei-0")),c=H(a("pingLun"));function v(e){console.log(e)}const m=H(a("dian-zan")),g=H(),b=H(!1);function y(){b.value=!0}function h(){var e;null==(e=g.value)||e.updateActiveStyle()}return(e,a)=>{const f=N(F("wd-toast"),d),_=N(F("wd-segmented"),Y),w=C,x=N(F("demo-block"),Q),j=K,I=N(F("wd-button"),T),O=N(F("wd-popup"),r),S=N(F("page-wraper"),p);return z(),$(w,null,{default:k((()=>[q(f),q(S,null,{default:k((()=>[q(x,{title:e.$t("da-xing-fen-duan-qi"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(_,{options:t.value,value:s.value,"onUpdate:value":a[0]||(a[0]=e=>s.value=e),size:"large",onChange:v},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("mo-ren-fen-duan-qi"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(_,{options:t.value,value:n.value,"onUpdate:value":a[1]||(a[1]=e=>n.value=e)},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("xiao-xing-fen-duan-qi"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(_,{options:t.value,value:i.value,"onUpdate:value":a[2]||(a[2]=e=>i.value=e),size:"small"},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("dai-zhen-dong-xiao-guo-de-fen-duan-qi"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(_,{options:t.value,value:o.value,"onUpdate:value":a[3]||(a[3]=e=>o.value=e),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("jin-yong-fen-duan-qi"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(_,{options:t.value,value:c.value,"onUpdate:value":a[4]||(a[4]=e=>c.value=e),disabled:""},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("zi-ding-yi-xuan-ran-fen-duan-qi-biao-qian"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(_,{options:l.value,value:u.value,"onUpdate:value":a[5]||(a[5]=e=>u.value=e),"vibrate-short":!0,onChange:v},{label:k((({option:e})=>[q(w,{class:"section-slot"},{default:k((()=>[q(j,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:e.payload.avatar},null,8,["src"]),q(w,{class:"name"},{default:k((()=>[E(L(e.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1},8,["title"]),q(x,{title:e.$t("zai-dan-chu-kuang-zhong-shi-yong"),transparent:""},{default:k((()=>[q(w,{class:"section"},{default:k((()=>[q(I,{onClick:y},{default:k((()=>[E(L(e.$t("da-kai-dan-chuang")),1)])),_:1})])),_:1})])),_:1},8,["title"]),q(O,{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value=e),position:"bottom",onAfterEnter:h,closable:"","custom-style":"height: 200px;padding: 0 24rpx;"},{default:k((()=>[q(w,{class:"title"},{default:k((()=>[E(L(e.$t("zai-dan-chu-kuang-zhong-shi-yong-0")),1)])),_:1}),q(_,{options:t.value,value:m.value,"onUpdate:value":a[6]||(a[6]=e=>m.value=e),onChange:v,ref_key:"segmentedRef",ref:g},null,8,["options","value"])])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-9ccc1e49"]]);export{Z as default};
