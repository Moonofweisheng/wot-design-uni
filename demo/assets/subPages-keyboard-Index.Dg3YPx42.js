var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,s=(e,t)=>{for(var l in t||(t={}))o.call(t,l)&&i(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&i(e,l,t[l]);return e},u=(e,a)=>t(e,l(a));import{i as r,g as d,b as c,a as p,c as v,_ as y}from"./page-wraper.Di0VYMXm.js";import{d as m,r as b,c as k,e as x,f as g,b as h,g as w,i as f,q as _,w as $,h as j,z as C,m as I,F as z,j as D,t as V,a5 as U,C as S,E as O,D as L,k as T,n as K,u as P}from"./index-CO5J-Q2S.js";import{_ as A}from"./wd-cell-group.Y6L0OV3I.js";import{_ as B}from"./demo-block.Dkcx27sR.js";import{c as M,d as E,a as G,w as F,_ as H,b as X,m as Y}from"./base64.DhmryiS1.js";import{u as q}from"./useTouch.DvgJUR0k.js";import"./wd-root-portal.DiH5yP4Q.js";import"./useChildren.Dtl4IwbD.js";const J={type:G(""),text:E(""),wider:M(!1),large:M(!1),loading:M(!1)},N=H(m(u(s({},{name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:J,emits:["press"],setup(e,{emit:t}){const l=e,a=t,o=q(),n=b(!1),i=k((()=>`wd-key ${l.large?"wd-key--large":""} ${"delete"===l.type?"wd-key--delete":""} ${"close"===l.type?"wd-key--close":""}`));function s(e){o.touchStart(e),n.value=!0}function u(e){o.touchMove(e),o.direction.value&&(n.value=!1)}function d(){n.value&&(n.value=!1,a("press",l.text,l.type))}return(e,t)=>{const a=x(g("wd-loading"),r),o=x(g("wd-icon"),F),n=f;return w(),h(n,{class:_("wd-key-wrapper "+(e.wider?"wd-key-wrapper--wider":"")),onTouchstart:s,onTouchmove:u,onTouchend:d},{default:$((()=>[j(n,{class:_(i.value)},{default:$((()=>[l.loading?(w(),h(a,{key:0,"custom-class":"wd-key__loading-icon"})):C("",!0),"delete"===e.type?(w(),I(z,{key:1},[e.text?(w(),I(z,{key:0},[D(V(e.text),1)],64)):(w(),h(o,{key:1,"custom-class":"wd-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(w(),I(z,{key:2},[e.text?(w(),I(z,{key:0},[D(V(e.text),1)],64)):(w(),h(o,{key:1,"custom-class":"wd-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(w(),I(z,{key:3},[D(V(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}})),[["__scopeId","data-v-4e5f3a8a"]]),Q=u(s({},X),{visible:M(!1),modelValue:G(""),title:String,mode:G("default"),zIndex:Y(100),maxlength:Y(1/0),showDeleteKey:M(!0),randomKeyOrder:M(!1),closeText:String,deleteText:String,closeButtonLoading:M(!1),modal:M(!1),hideOnClickOutside:M(!0),lockScroll:M(!0),safeAreaInsetBottom:M(!0),extraKey:[String,Array],rootPortal:M(!1),carLang:String,autoSwitchLang:M(!1)}),R=["京","沪","粤","津","冀","豫","云","辽","黑","湘","皖","鲁","苏","浙","赣","鄂","桂","甘","晋","陕","蒙","吉","闽","贵","渝","川","青","琼","宁","挂","藏","港","澳","新","使","学"],W=[1,2,3,4,5,6,7,8,9,0,"Q","W","E","R","T","Y","U","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],Z=H(m(u(s({},{name:"wd-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:Q,emits:["update:visible","input","close","delete","update:modelValue","update:carLang"],setup(e,{emit:t}){const l=e,a=t,o=U(),n=b(l.visible);S((()=>l.visible),(e=>{n.value=e}));const i=b("zh"),s=k({get:()=>l.carLang?l.carLang:i.value,set:e=>{i.value=e}}),u=k((()=>"car"!==l.mode?"custom"===l.mode?function(){const e=v(),t=Array.isArray(l.extraKey)?l.extraKey:[l.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...v(),{text:l.extraKey,type:"extra"},{text:0},{text:l.showDeleteKey?l.deleteText:"",type:l.showDeleteKey?"delete":""}]:function(){const[e,t]=function(){const e="zh"===s.value?R.map((e=>({text:e}))):W.map((e=>({text:e})));return[e.slice(0,30),e.slice(30)]}();return[...e,{text:"zh"===s.value?"ABC":"省份",type:"extra",wider:!0},...t,{text:l.deleteText,type:"delete",wider:!0}]}())),r=k((()=>l.closeText&&("default"===l.mode||"car"===l.mode))),c=k((()=>!!l.title||!!o.title)),p=k((()=>c.value||r.value));function v(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return l.randomKeyOrder?function(e){const t=[...e];for(let l=t.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[t[l],t[e]]=[t[e],t[l]]}return t}(e):e}const y=()=>{a("close"),a("update:visible",!1)},m=(e,t)=>{if("extra"===t){if(""===e)return y();if("ABC"===e||"省份"===e){const e="zh"===s.value?"en":"zh";return void(l.carLang?a("update:carLang",e):s.value=e)}}const o=l.modelValue;if("delete"===t){a("delete");const e=o.slice(0,o.length-1);a("update:modelValue",e),"car"===l.mode&&0===e.length&&l.autoSwitchLang&&(s.value="zh")}else if("close"===t)y();else if(o.length<+l.maxlength){a("input",e);const t=o+e;a("update:modelValue",t),"car"===l.mode&&1===t.length&&l.autoSwitchLang&&(s.value="en")}};return(e,t)=>{const l=T,a=f;return w(),h(d,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,"root-portal":e.rootPortal,onClickModal:y},{default:$((()=>[j(a,{class:_(`wd-keyboard ${e.customClass}`),style:O(e.customStyle)},{default:$((()=>[p.value?(w(),h(a,{key:0,class:"wd-keyboard__header"},{default:$((()=>[c.value?L(e.$slots,"title",{key:0},(()=>[j(l,{class:"wd-keyboard__title"},{default:$((()=>[D(V(e.title),1)])),_:1})]),!0):C("",!0),r.value?(w(),h(a,{key:1,class:"wd-keyboard__close","hover-class":"wd-keyboard__close--hover",onClick:y},{default:$((()=>[j(l,null,{default:$((()=>[D(V(e.closeText),1)])),_:1})])),_:1})):C("",!0)])),_:3})):C("",!0),"car"!==e.mode?(w(),h(a,{key:1,class:"wd-keyboard__body"},{default:$((()=>[j(a,{class:"wd-keyboard__keys"},{default:$((()=>[(w(!0),I(z,null,K(u.value,(e=>(w(),h(N,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:m},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(w(),h(a,{key:0,class:"wd-keyboard__sidebar"},{default:$((()=>[e.showDeleteKey?(w(),h(N,{key:0,large:"",text:e.deleteText,type:"delete",onPress:m},null,8,["text"])):C("",!0),j(N,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:m},null,8,["text","loading"])])),_:1})):C("",!0)])),_:1})):C("",!0),"car"===e.mode?(w(),h(a,{key:2,class:"wd-keyboard-car__body"},{default:$((()=>[j(a,{class:"wd-keyboard-car__keys"},{default:$((()=>[(w(!0),I(z,null,K(u.value,(e=>(w(),h(N,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:m},null,8,["text","type","wider"])))),128))])),_:1})])),_:1})):C("",!0)])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll","root-portal"])}}})),[["__scopeId","data-v-beece1b2"]]),ee=m({__name:"Index",setup(e){const{show:t}=c(),{t:l}=P(),a=b(!1),o=b(!1),n=b(!1),i=b(!1),s=b(!1),u=b(!1),r=b(!1),d=b(!1),m=b(!1),k=b(!1),h=b(!1),f=[a,o,n,i,s,u,r,d,m,k,h],_=b(""),C=b(""),U=b(""),S=b("zh");function O(e){f.forEach(((t,l)=>t.value=l===e-1))}const L=e=>t(`${e}`),K=()=>t(l("shan-chu"));return(e,t)=>{const l=x(g("wd-toast"),v),c=x(g("wd-cell"),y),b=x(g("wd-cell-group"),A),f=x(g("demo-block"),B),P=x(g("wd-keyboard"),Z),M=T,E=x(g("page-wraper"),p);return w(),I(z,null,[j(l),j(E,null,{default:$((()=>[j(f,{title:e.$t("jiBenYongFa"),transparent:""},{default:$((()=>[j(b,{border:""},{default:$((()=>[j(c,{title:e.$t("mo-ren-jian-pan"),"is-link":"",onClick:t[0]||(t[0]=e=>O(1))},null,8,["title"]),j(c,{title:e.$t("dai-you-ce-lan-de-jian-pan"),"is-link":"",onClick:t[1]||(t[1]=e=>O(2))},null,8,["title"]),j(c,{title:e.$t("shen-fen-zheng-jian-pan"),"is-link":"",onClick:t[2]||(t[2]=e=>O(3))},null,8,["title"]),j(c,{title:e.$t("dai-biao-ti-de-jian-pan"),"is-link":"",onClick:t[3]||(t[3]=e=>O(4))},null,8,["title"]),j(c,{title:e.$t("slot-zi-ding-yi-biao-ti"),"is-link":"",onClick:t[4]||(t[4]=e=>O(9))},null,8,["title"]),j(c,{title:e.$t("duo-geewai-an-jian"),"is-link":"",onClick:t[5]||(t[5]=e=>O(5))},null,8,["title"]),j(c,{title:e.$t("sui-ji-shu-zi-jian-pan"),"is-link":"",onClick:t[6]||(t[6]=e=>O(6))},null,8,["title"]),j(c,{title:e.$t("che-pai-hao-jian-pan-fei-shou-kong"),value:C.value,"is-link":"",onClick:t[7]||(t[7]=e=>O(10))},null,8,["title","value"]),j(c,{title:e.$t("che-pai-hao-jian-pan-shou-kong"),value:U.value,"is-link":"",onClick:t[8]||(t[8]=e=>O(11))},null,8,["title","value"]),j(c,{title:e.$t("shuang-xiang-bang-ding"),clickable:"",value:_.value,onClick:t[9]||(t[9]=e=>O(7))},null,8,["title","value"]),j(c,{title:e.$t("zhan-shi-meng-ceng"),clickable:"",onClick:t[10]||(t[10]=e=>O(8))},null,8,["title"])])),_:1})])),_:1},8,["title"]),j(P,{visible:a.value,"onUpdate:visible":t[11]||(t[11]=e=>a.value=e),onInput:L,onDelete:K},null,8,["visible"]),j(P,{visible:o.value,"onUpdate:visible":t[12]||(t[12]=e=>o.value=e),mode:"custom","extra-key":".","close-text":e.$t("wan-cheng"),onInput:L,onDelete:K},null,8,["visible","close-text"]),j(P,{visible:n.value,"onUpdate:visible":t[13]||(t[13]=e=>n.value=e),"extra-key":"X","close-text":e.$t("wan-cheng"),onInput:L,onDelete:K},null,8,["visible","close-text"]),j(P,{visible:i.value,"onUpdate:visible":t[14]||(t[14]=e=>i.value=e),title:e.$t("shu-ru-mi-ma"),"extra-key":".","close-text":e.$t("wan-cheng"),onInput:L,onDelete:K},null,8,["visible","title","close-text"]),j(P,{visible:m.value,"onUpdate:visible":t[15]||(t[15]=e=>m.value=e),"extra-key":".","close-text":e.$t("wan-cheng"),onInput:L,onDelete:K},{title:$((()=>[j(M,{style:{color:"red"}},{default:$((()=>[D(V(e.$t("zi-ding-yi-biao-ti")),1)])),_:1})])),_:1},8,["visible","close-text"]),j(P,{visible:s.value,"onUpdate:visible":t[16]||(t[16]=e=>s.value=e),mode:"custom","extra-key":["00","."],"close-text":e.$t("wan-cheng"),onInput:L,onDelete:K},null,8,["visible","extra-key","close-text"]),j(P,{visible:u.value,"onUpdate:visible":t[17]||(t[17]=e=>u.value=e),"random-key-order":"",onInput:L,onDelete:K},null,8,["visible"]),j(P,{modelValue:_.value,"onUpdate:modelValue":t[18]||(t[18]=e=>_.value=e),maxlength:6,visible:r.value,"onUpdate:visible":t[19]||(t[19]=e=>r.value=e),title:e.$t("jian-pan-biao-ti"),"extra-key":".","close-text":e.$t("wan-cheng"),onInput:L,onDelete:K},null,8,["modelValue","visible","title","close-text"]),j(P,{modal:!0,visible:d.value,"onUpdate:visible":t[20]||(t[20]=e=>d.value=e),onInput:L,onDelete:K},null,8,["visible"]),j(P,{modelValue:C.value,"onUpdate:modelValue":t[21]||(t[21]=e=>C.value=e),visible:k.value,"onUpdate:visible":t[22]||(t[22]=e=>k.value=e),mode:"car","auto-switch-lang":"",onInput:L,onDelete:K},null,8,["modelValue","visible"]),j(P,{modelValue:U.value,"onUpdate:modelValue":t[23]||(t[23]=e=>U.value=e),visible:h.value,"onUpdate:visible":t[24]||(t[24]=e=>h.value=e),"car-lang":S.value,"onUpdate:carLang":t[25]||(t[25]=e=>S.value=e),mode:"car",onInput:L,onDelete:K},null,8,["modelValue","visible","car-lang"])])),_:1})],64)}}});export{ee as default};
