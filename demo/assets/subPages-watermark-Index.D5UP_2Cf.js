var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,o=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&u(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&u(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{d as r,C as d,r as c,Y as m,b0 as g,Z as f,c as p,y as h,b1 as v,b2 as b,b as y,g as w,w as _,z as $,_ as z,E as x,q as j,i as k,H as O,G as C,aD as I,m as P,h as S,F,e as V,f as X,j as L,t as D}from"./index-CO5J-Q2S.js";import{m as Y,a as H,d as W,c as A,b as E,_ as R}from"./base64.DhmryiS1.js";import{_ as B}from"./wd-button.C_HwThsm.js";import{_ as G}from"./demo-block.Dkcx27sR.js";import{w as M}from"./wd-badge.BX4YLemv.js";import{_ as T,a as U}from"./page-wraper.Di0VYMXm.js";import{_ as q}from"./wd-cell-group.Y6L0OV3I.js";import"./wd-root-portal.DiH5yP4Q.js";import"./useChildren.Dtl4IwbD.js";const J=n(o({},E),{content:H(""),image:H(""),imageHeight:Y(100),imageWidth:Y(100),gutterX:Y(0),gutterY:Y(0),width:Y(100),height:Y(100),fullScreen:A(!0),color:H("#8c8c8c"),size:Y(14),fontStyle:H("normal"),fontWeight:W("normal"),fontFamily:H("PingFang SC"),rotate:Y(-25),zIndex:Y(1100),opacity:Y(.5)}),N=R(r(n(o({},{name:"wd-watermark",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:J,setup(e){const t=e;d((()=>t),(()=>{n.value=!0,u.value=(t.height+t.gutterY)*s.value,o.value=(t.width+t.gutterX)*s.value,I((()=>{S()}))}),{deep:!0});const a=c(`water${m()}`),l=c(""),i=c(g("createOffscreenCanvas")&&Boolean(uni.createOffscreenCanvas)),s=c(f().pixelRatio),u=c((t.height+t.gutterY)*s.value),o=c((t.width+t.gutterX)*s.value),n=c(!0),r=p((()=>{let e="wd-watermark";return t.fullScreen&&(e=`${e} is-fullscreen`),`${e} ${t.customClass}`})),P=p((()=>{const e={opacity:t.opacity,backgroundSize:O(t.width+t.gutterX)};return l.value&&(e.backgroundImage=`url('${l.value}')`),`${C(e)}${t.customStyle}`}));function S(){n.value=!1;const{width:e,height:a,color:i,size:u,fontStyle:o,fontWeight:r,fontFamily:d,content:c,rotate:m,gutterX:g,gutterY:f,image:p,imageHeight:h,imageWidth:y}=t;!function(e,t,a,i,u,o,n,r,d,c,m,g,f,p){const h=(t+m)*s.value,y=(e+c)*s.value,w=e*s.value,_=t*s.value,$=i*s.value;!function(e,t,a,i,u,o,n,r,d,c,m,g,f,p){const h=document.createElement("canvas"),y=h.getContext("2d");if(h.setAttribute("width",`${t}px`),h.setAttribute("height",`${e}px`),y)if(g){!function(e,t,a,i,u,o,n,r,d){return c=this,m=null,g=function*(){e.translate(n/2,r/2),e.rotate(Math.PI/180*Number(o)),t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",v(a)?t.src=a:t.src=b(a,{timestamp:`${(new Date).getTime()}`}),t.onload=()=>{e.drawImage(t,-u*s.value/2,-i*s.value/2,u*s.value,i*s.value),e.restore(),l.value=d.toDataURL()}},new Promise(((e,t)=>{var a=e=>{try{i(g.next(e))}catch(a){t(a)}},l=e=>{try{i(g.throw(e))}catch(a){t(a)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,l);i((g=g.apply(c,m)).next())}));var c,m,g}(y,new Image,g,f,p,u,a,i,h)}else!function(e,t,a,i,s,u,o,n,r,d,c){e.textBaseline="middle",e.textAlign="center",e.translate(a/2,a/2),e.rotate(Math.PI/180*s),e.font=`${n} normal ${r} ${u}px/${i}px ${o}`,e.fillStyle=d,e.fillText(t,0,0),e.restore(),l.value=c.toDataURL()}(y,m,a,i,u,o,n,r,d,c,h);else console.error("无法获取canvas上下文，请确认当前环境是否支持canvas")}(h,y,w,_,d,$,n,u,o,a,r,g,f,p)}(e,a,i,u,o,r,d,c,m,g,f,p,h,y)}return h((()=>{S()})),(e,t)=>{const l=z,s=k;return w(),y(s,{class:j(r.value),style:x(P.value)},{default:_((()=>[!i.value&&n.value?(w(),y(l,{key:0,type:"2d",style:x({height:u.value+"px",width:o.value+"px",visibility:"hidden"}),"canvas-id":a.value,id:a.value},null,8,["style","canvas-id","id"])):$("",!0)])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-e42a9771"]]),Z=R(r({__name:"Index",setup(e){const t=c(!1),a=p((()=>t.value?"https://wot-ui.cn/logo.png":""));function l(e){t.value=e}return(e,t)=>{const i=V(X("wd-watermark"),N),s=V(X("wd-button"),B),u=V(X("demo-block"),G),o=V(X("wd-badge"),M),n=V(X("wd-cell"),T),r=V(X("wd-cell-group"),q),d=V(X("page-wraper"),U),c=k;return w(),P(F,null,[S(i,{image:a.value,width:130,height:140,"image-width":38,content:"wot-design-uni","image-height":38,opacity:.5},null,8,["image"]),S(c,null,{default:_((()=>[S(d,null,{default:_((()=>[S(u,{title:e.$t("ji-chu-yong-fa-0")},{default:_((()=>[S(s,{onClick:t[0]||(t[0]=e=>l(!1)),plain:""},{default:_((()=>[L(D(e.$t("wen-zi-shui-yin")),1)])),_:1}),S(s,{onClick:t[1]||(t[1]=e=>l(!0)),plain:""},{default:_((()=>[L(D(e.$t("tu-pian-shui-yin")),1)])),_:1})])),_:1},8,["title"]),S(u,{title:e.$t("zhan-shi-xiao-guo")},{default:_((()=>[S(o,{"custom-class":"badge",modelValue:200,max:99},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:200,max:10},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1})])),_:1},8,["title"]),S(u,{title:e.$t("ju-bu-shui-yin")},{default:_((()=>[S(i,{opacity:.8,image:"https://wot-ui.cn/logo.png","image-width":38,"image-height":38,"full-screen":!1}),S(o,{"custom-class":"badge",modelValue:12},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:3,"bg-color":"pink"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:1,type:"primary"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:2,type:"warning"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:1,type:"success"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:2,type:"info"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1}),S(r,{border:""},{default:_((()=>[S(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"]),S(n,{title:e.$t("biao-ti-wen-zi-10"),value:"内容",size:"large",icon:"setting","is-link":""},null,8,["title"]),S(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),label:e.$t("miaoShuXinXi-0"),value:"内容"},null,8,["title","label"]),S(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"]),S(n,{title:e.$t("biao-ti-wen-zi-10"),value:"内容",size:"large",icon:"setting","is-link":""},null,8,["title"]),S(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),label:e.$t("miaoShuXinXi-0"),value:"内容"},null,8,["title","label"])])),_:1})])),_:1},8,["title"]),S(u,{title:e.$t("zhan-shi-xiao-guo-0")},{default:_((()=>[S(o,{"custom-class":"badge",modelValue:"new"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),S(o,{"custom-class":"badge",modelValue:"hot"},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1})])),_:1},8,["title"]),S(u,{title:e.$t("zhan-shi-xiao-guo-1")},{default:_((()=>[S(o,{"custom-class":"badge","is-dot":""},{default:_((()=>[L(D(e.$t("shuJuChaXun")),1)])),_:1}),S(o,{"custom-class":"badge","is-dot":""},{default:_((()=>[S(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-0d11571c"]]);export{Z as default};
