var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,o=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&u(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&u(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{d as r,I as d,r as c,Z as m,b0 as g,_ as f,c as p,y as h,b1 as v,b2 as b,b as y,g as w,w as _,z as $,$ as z,G as x,q as j,i as k,H as I,D as O,aD as P,m as S,h as F,F as V,e as X,f as C,j as L,t as D}from"./index-Bxqg77pZ.js";import{d as H,m as W,b as Y,e as A,c as E,_ as R}from"./base64.C49xnrUQ.js";import{_ as B}from"./wd-button.Dfw0jUO9.js";import{_ as G}from"./demo-block.Q9ikF_jn.js";import{w as M}from"./wd-badge.CbLj-T0n.js";import{_ as T,a as U}from"./page-wraper.dVabujC3.js";import{_ as q}from"./wd-cell-group._k6w1rnH.js";const J=n(o({},E),{content:W(""),image:W(""),imageHeight:H(100),imageWidth:H(100),gutterX:H(0),gutterY:H(0),width:H(100),height:H(100),fullScreen:A(!0),color:W("#8c8c8c"),size:H(14),fontStyle:W("normal"),fontWeight:Y("normal"),fontFamily:W("PingFang SC"),rotate:H(-25),zIndex:H(1100),opacity:H(.5)}),N=R(r(n(o({},{name:"wd-watermark",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:J,setup(e){const t=e;d((()=>t),(()=>{n.value=!0,u.value=(t.height+t.gutterY)*s.value,o.value=(t.width+t.gutterX)*s.value,P((()=>{F()}))}),{deep:!0});const a=c(`water${m()}`),l=c(""),i=c(g("createOffscreenCanvas")&&Boolean(uni.createOffscreenCanvas)),s=c(f().pixelRatio),u=c((t.height+t.gutterY)*s.value),o=c((t.width+t.gutterX)*s.value),n=c(!0),r=p((()=>{let e="wd-watermark";return t.fullScreen&&(e=`${e} is-fullscreen`),`${e} ${t.customClass}`})),S=p((()=>{const e={opacity:t.opacity,backgroundSize:I(t.width+t.gutterX)};return l.value&&(e.backgroundImage=`url('${l.value}')`),`${O(e)}${t.customStyle}`}));function F(){n.value=!1;const{width:e,height:a,color:i,size:u,fontStyle:o,fontWeight:r,fontFamily:d,content:c,rotate:m,gutterX:g,gutterY:f,image:p,imageHeight:h,imageWidth:y}=t;!function(e,t,a,i,u,o,n,r,d,c,m,g,f,p){const h=(t+m)*s.value,y=(e+c)*s.value,w=e*s.value,_=t*s.value,$=i*s.value;!function(e,t,a,i,u,o,n,r,d,c,m,g,f,p){const h=document.createElement("canvas"),y=h.getContext("2d");if(h.setAttribute("width",`${t}px`),h.setAttribute("height",`${e}px`),y)if(g){!function(e,t,a,i,u,o,n,r,d){return c=this,m=null,g=function*(){e.translate(n/2,r/2),e.rotate(Math.PI/180*Number(o)),t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",v(a)?t.src=a:t.src=b(a,{timestamp:`${(new Date).getTime()}`}),t.onload=()=>{e.drawImage(t,-u*s.value/2,-i*s.value/2,u*s.value,i*s.value),e.restore(),l.value=d.toDataURL()}},new Promise(((e,t)=>{var a=e=>{try{i(g.next(e))}catch(a){t(a)}},l=e=>{try{i(g.throw(e))}catch(a){t(a)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,l);i((g=g.apply(c,m)).next())}));var c,m,g}(y,new Image,g,f,p,u,a,i,h)}else!function(e,t,a,i,s,u,o,n,r,d,c){e.textBaseline="middle",e.textAlign="center",e.translate(a/2,a/2),e.rotate(Math.PI/180*s),e.font=`${n} normal ${r} ${u}px/${i}px ${o}`,e.fillStyle=d,e.fillText(t,0,0),e.restore(),l.value=c.toDataURL()}(y,m,a,i,u,o,n,r,d,c,h);else console.error("无法获取canvas上下文，请确认当前环境是否支持canvas")}(h,y,w,_,d,$,n,u,o,a,r,g,f,p)}(e,a,i,u,o,r,d,c,m,g,f,p,h,y)}return h((()=>{F()})),(e,t)=>{const l=z,s=k;return w(),y(s,{class:j(r.value),style:x(S.value)},{default:_((()=>[!i.value&&n.value?(w(),y(l,{key:0,type:"2d",style:x({height:u.value+"px",width:o.value+"px",visibility:"hidden"}),"canvas-id":a.value,id:a.value},null,8,["style","canvas-id","id"])):$("",!0)])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-72698bae"]]),Z=R(r({__name:"Index",setup(e){const t=c(!1),a=p((()=>t.value?"https://wot-ui.cn/logo.png":""));function l(e){t.value=e}return(e,t)=>{const i=X(C("wd-watermark"),N),s=X(C("wd-button"),B),u=X(C("demo-block"),G),o=X(C("wd-badge"),M),n=X(C("wd-cell"),T),r=X(C("wd-cell-group"),q),d=X(C("page-wraper"),U),c=k;return w(),S(V,null,[F(i,{image:a.value,width:130,height:140,"image-width":38,content:"wot-design-uni","image-height":38,opacity:.5},null,8,["image"]),F(c,null,{default:_((()=>[F(d,null,{default:_((()=>[F(u,{title:e.$t("ji-chu-yong-fa-0")},{default:_((()=>[F(s,{onClick:t[0]||(t[0]=e=>l(!1)),plain:""},{default:_((()=>[L(D(e.$t("wen-zi-shui-yin")),1)])),_:1}),F(s,{onClick:t[1]||(t[1]=e=>l(!0)),plain:""},{default:_((()=>[L(D(e.$t("tu-pian-shui-yin")),1)])),_:1})])),_:1},8,["title"]),F(u,{title:e.$t("zhan-shi-xiao-guo")},{default:_((()=>[F(o,{"custom-class":"badge",modelValue:200,max:99},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:200,max:10},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1})])),_:1},8,["title"]),F(u,{title:e.$t("ju-bu-shui-yin")},{default:_((()=>[F(i,{opacity:.8,image:"https://wot-ui.cn/logo.png","image-width":38,"image-height":38,"full-screen":!1}),F(o,{"custom-class":"badge",modelValue:12},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:3,"bg-color":"pink"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:1,type:"primary"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:2,type:"warning"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:1,type:"success"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:2,type:"info"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1}),F(r,{border:""},{default:_((()=>[F(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"]),F(n,{title:e.$t("biao-ti-wen-zi-10"),value:"内容",size:"large",icon:"setting","is-link":""},null,8,["title"]),F(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),label:e.$t("miaoShuXinXi-0"),value:"内容"},null,8,["title","label"]),F(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"]),F(n,{title:e.$t("biao-ti-wen-zi-10"),value:"内容",size:"large",icon:"setting","is-link":""},null,8,["title"]),F(n,{size:"large",title:e.$t("biao-ti-wen-zi-10"),label:e.$t("miaoShuXinXi-0"),value:"内容"},null,8,["title","label"])])),_:1})])),_:1},8,["title"]),F(u,{title:e.$t("zhan-shi-xiao-guo-0")},{default:_((()=>[F(o,{"custom-class":"badge",modelValue:"new"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("pingLun")),1)])),_:1})])),_:1}),F(o,{"custom-class":"badge",modelValue:"hot"},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1})])),_:1},8,["title"]),F(u,{title:e.$t("zhan-shi-xiao-guo-1")},{default:_((()=>[F(o,{"custom-class":"badge","is-dot":""},{default:_((()=>[L(D(e.$t("shuJuChaXun")),1)])),_:1}),F(o,{"custom-class":"badge","is-dot":""},{default:_((()=>[F(s,{round:!1,type:"info",size:"small"},{default:_((()=>[L(D(e.$t("huiFu-0")),1)])),_:1})])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-0d11571c"]]);export{Z as default};
