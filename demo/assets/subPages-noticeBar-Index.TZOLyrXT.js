var i=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,e,a)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,s=(i,t)=>{for(var e in t||(t={}))n.call(t,e)&&l(i,e,t[e]);if(a)for(var e of a(t))o.call(t,e)&&l(i,e,t[e]);return i},u=(i,a)=>t(i,e(a)),r=(i,t,e)=>new Promise(((a,n)=>{var o=i=>{try{s(e.next(i))}catch(t){n(t)}},l=i=>{try{s(e.throw(i))}catch(t){n(t)}},s=i=>i.done?a(i.value):Promise.resolve(i.value).then(o,l);s((e=e.apply(i,t)).next())}));import{d as x,r as c,c as h,aj as d,D as g,C as y,K as f,I as p,y as b,aK as v,ab as w,aD as m,b as z,z as _,g as k,w as $,E as j,h as q,i as C,G as D,m as P,F as O,n as I,j as S,t as T,q as F,M as A,N as E,u as G,e as K,f as N,Q as Y}from"./index-Bxqg77pZ.js";import{c as B,m as H,e as M,d as Q,a as X,_ as J}from"./base64.C49xnrUQ.js";import{_ as L}from"./demo-block.Q9ikF_jn.js";import{_ as R}from"./wd-button.Dfw0jUO9.js";import{a as U}from"./page-wraper.dVabujC3.js";const V=u(s({},B),{text:{type:[String,Array],default:""},type:H("warning"),scrollable:M(!0),delay:Q(1),speed:Q(50),closable:M(!1),wrapable:M(!1),prefix:String,color:String,backgroundColor:String,direction:H("horizontal")}),W=J(x(u(s({},{name:"wd-notice-bar",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:V,emits:["close","next","click"],setup(i,{expose:t,emit:e}){const a=".wd-notice-bar__wrap",n=".wd-notice-bar__content",o=i,l=e,s=c(0),u=c(!0),x=c(0),G=h((()=>Array.isArray(o.text)?o.text:[o.text])),K=h((()=>G.value[x.value])),N=c(0),Y=c(null),B=c(null),H=h((()=>"horizontal"===o.direction)),M=h((()=>"vertical"===o.direction)),Q=d({transitionProperty:"unset",transitionDelay:"unset",transitionDuration:"unset",transform:"none",transitionTimingFunction:"linear"}),J=h((()=>g(Q))),L=h((()=>{const i={};return y(o.color)&&(i.color=o.color),y(o.backgroundColor)&&(i.background=o.backgroundColor),`${g(i)}${o.customStyle}`})),R=h((()=>{const{type:i,wrapable:t,scrollable:e}=o;let a=[];return i&&a.push(`is-${i}`),H.value?!t&&!e&&a.push("wd-notice-bar--ellipse"):a.push("wd-notice-bar--ellipse"),t&&!e&&a.push("wd-notice-bar--wrap"),a.join(" ")})),{proxy:U}=f();function V(){Z(),W()}function W(){m((()=>function(){return r(this,null,(function*(){const[i,t]=yield ei();i.width&&t.width&&t.height&&(Y.value=i,B.value=t,s.value=i.width,H.value?o.scrollable&&ti({duration:t.width/o.speed,delay:o.delay,translate:-t.width}):G.value.length>1&&ai(t.height))}))}()))}function Z(){Q.transitionProperty="unset",Q.transitionDelay="unset",Q.transitionDuration="unset",Q.transform="none",Q.transitionTimingFunction="linear",x.value=0,N.value=0}function ii(){u.value=!1,l("close")}function ti({duration:i,delay:t,translate:e}){Q.transitionProperty="all",Q.transitionDelay=`${t}s`,Q.transitionDuration=`${i}s`,Q.transform=`${"vertical"===o.direction?"translateY":"translateX"}(${e}px)`,Q.transitionTimingFunction="linear"}function ei(){return Promise.all([A(a,!1,U),A(n,!1,U)])}function ai(i){return r(this,null,(function*(){const t=-i/(G.value.length+1)*(x.value+1);ti({duration:i/(G.value.length+1)/o.speed,delay:o.delay,translate:t})}))}function ni(){H.value?ti({duration:0,delay:0,translate:s.value+1}):++N.value>=G.value.length&&(N.value=0,ti({duration:0,delay:0,translate:0}));const i=setTimeout((()=>{x.value>=G.value.length-1?x.value=0:x.value++,l("next",x.value),m((()=>r(this,null,(function*(){try{const[i,t]=yield ei();Y.value=i,B.value=t,s.value=i.width||0}catch(i){}B.value&&B.value.width&&B.value.height&&(H.value?ti({duration:(s.value+B.value.width)/o.speed,delay:o.delay,translate:-B.value.width}):ai(B.value.height))})))),clearTimeout(i)}),20)}function oi(){const i=E(o.text)?{index:x.value,text:o.text[x.value]}:{index:0,text:o.text};l("click",i)}return p((()=>o.text),(()=>{V()}),{deep:!0}),b((()=>{W()})),v((()=>{W()})),w((()=>{Z()})),t({reset:V}),(i,t)=>{const e=C;return u.value?(k(),z(e,{key:0,class:F(`wd-notice-bar ${i.customClass} ${R.value}`),style:D(L.value)},{default:$((()=>[i.prefix?(k(),z(X,{key:0,"custom-class":"wd-notice-bar__prefix",name:i.prefix},null,8,["name"])):j(i.$slots,"prefix",{key:1},void 0,!0),q(e,{class:"wd-notice-bar__wrap"},{default:$((()=>[q(e,{class:"wd-notice-bar__content",style:D(J.value),onTransitionend:ni,onClick:oi},{default:$((()=>[M.value?(k(),P(O,{key:0},[(k(!0),P(O,null,I(G.value,(i=>(k(),z(e,{key:i},{default:$((()=>[S(T(i),1)])),_:2},1024)))),128)),G.value.length>1?(k(),z(e,{key:0},{default:$((()=>[S(T(G.value[0]),1)])),_:1})):_("",!0)],64)):j(i.$slots,"default",{key:1},(()=>[S(T(K.value),1)]),!0)])),_:3},8,["style"])])),_:3}),i.closable?(k(),z(X,{key:2,"custom-class":"wd-notice-bar__suffix",name:"close-bold",onClick:ii})):j(i.$slots,"suffix",{key:3},void 0,!0)])),_:3},8,["class","style"])):_("",!0)}}})),[["__scopeId","data-v-1bbff693"]]),Z=J(x({__name:"Index",setup(i){const{t:t}=G(),e=c();function a(){var i;null==(i=e.value)||i.reset()}const n=c([t("huan-ying-shi-yong-wot-design-uni"),t("gai-zu-jian-ku-ji-yu-uniapp-vue3-ts-gou-jian"),t("xiang-mu-di-zhi-httpsgithubcommoonofweishengwotdesignuni"),t("wo-men-de-mu-biao-shi-da-zao-zui-qiang-uniapp-zu-jian-ku"),t("cheng-zhi-yao-qing-da-jia-gong-tong-jian-she"),t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi")]),o=i=>{console.log("展示下一条，index: ",i),console.log("文本是："+n.value[i])};function l(i){console.log(i)}return(i,t)=>{const s=K(N("wd-notice-bar"),W),u=K(N("demo-block"),L),r=K(N("wd-icon"),X),x=K(N("wd-button"),R),c=C,h=K(N("page-wraper"),U);return k(),z(h,null,{default:$((()=>[q(c,null,{default:$((()=>[q(u,{title:i.$t("jiBenYongFa")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi"),prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("lei-xing-xiu-gai")},{default:$((()=>[q(s,{type:"danger",text:i.$t("dang-qian-wang-luo-bu-ke-yong-qing-jian-cha-ni-de-wang-luo-she-zhi-dang-qian-wang-luo-bu-ke-yong-qing-jian-cha-ni-de-wang-luo-she-zhi"),prefix:"wifi-error","custom-class":"space"},null,8,["text"]),q(s,{type:"info",text:i.$t("dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing"),prefix:"check-outline"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("jin-zhi-gun-dong")},{default:$((()=>[q(s,{scrollable:!1,text:i.$t("yu-mai-gui-hua-tong-zai-jiu-zhong-bu-si-shao-nian-you"),prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("cha-cao")},{default:$((()=>[q(s,{scrollable:!1},{prefix:$((()=>[q(r,{"custom-class":"prefix",name:"warn-bold"},{default:$((()=>[S(T(i.$t("zhan-wei-fu")),1)])),_:1})])),suffix:$((()=>[Y("div",{style:{color:"#4d80f0"}},T(i.$t("cha-kan")),1)])),default:$((()=>[S(" "+T(i.$t("tong-zhi-bei-jin-huo-shi-duan-nei-xiao-xi-ping-bi-ke-neng-zao-cheng-xiao"))+" ",1)])),_:1})])),_:1},8,["title"]),q(u,{title:i.$t("ke-guan-bi-de")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-0"),closable:"",prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("duo-hang-zhan-shi")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi"),wrapable:"",scrollable:!1},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("zi-ding-yi-yan-se-0")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-1"),prefix:"check-outline",color:"#34D19D","background-color":"#f0f9eb"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("duo-wen-ben-lun-bo")},{default:$((()=>[q(s,{onClick:l,text:n.value,prefix:"check-outline",onNext:o},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("chui-zhi-gun-dong")},{default:$((()=>[q(s,{onClick:l,prefix:"warn-bold",direction:"vertical",text:n.value,delay:3,"custom-class":"space"},null,8,["text"]),q(s,{onClick:l,prefix:"warn-bold",direction:"vertical",text:i.$t("zhi-you-yi-tiao-xiao-xi-bu-hui-gun-dong"),delay:3,"custom-class":"space"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("zhong-zhi-bo-fang-dong-hua")},{default:$((()=>[q(s,{ref_key:"notice",ref:e,prefix:"warn-bold",direction:"vertical",text:n.value,delay:3,"custom-class":"space"},null,8,["text"]),q(x,{onClick:a},{default:$((()=>[S(T(i.$t("zhong-zhi-bo-fang-dong-hua-0")),1)])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-97a64a1b"]]);export{Z as default};
