var e=Object.defineProperty,a=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(a,n,o)=>n in a?e(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o;import{_ as l}from"./wd-search.DpH85-9r.js";import{d,r as u,Y as r,J as c,c as h,y as g,b as p,g as x,w as v,D as f,j as b,t as y,E as m,q as _,L as w,B as z,i as T,an as j,C as I,h as k,aF as $,K as S,m as O,F as C,n as P,l as q,N as B,aD as D,u as H,e as E,f as F,z as M}from"./index-CO5J-Q2S.js";import{b as V,e as Y,c as N,_ as A}from"./base64.DhmryiS1.js";import{e as G,b as J,a as K,_ as L}from"./page-wraper.Di0VYMXm.js";import{u as U}from"./useChildren.Dtl4IwbD.js";import"./useTranslate.3zyJJ8gO.js";import"./wd-root-portal.DiH5yP4Q.js";const Q=(R=((e,a)=>{for(var n in a||(a={}))i.call(a,n)&&s(e,n,a[n]);if(o)for(var n of o(a))t.call(a,n)&&s(e,n,a[n]);return e})({},V),W={index:Y([String,Number])},a(R,n(W)));var R,W;const X={sticky:N(!1)},Z=Symbol("wd-index-bar"),ee=A(d({__name:"wd-index-anchor",props:Q,setup(e,{expose:a}){const n=e,{parent:o}=G(Z),i=u(`indexBar${r()}`),{proxy:t}=c(),s=u(0),l=h((()=>o&&o.props.sticky&&o.anchorState.activeIndex===n.index));return g((()=>{w(`#${i.value}`,!1,t).then((e=>{z(o)&&(s.value=Math.floor(e.top))}))})),a({top:s}),(e,a)=>{const n=T;return x(),p(n,{class:_(`wd-index-anchor ${l.value?"is-sticky":""} ${e.customClass}`),style:m(e.customStyle),id:i.value},{default:v((()=>[f(e.$slots,"default",{},(()=>[b(y(e.index),1)]),!0)])),_:3},8,["class","style","id"])}}}),[["__scopeId","data-v-2964c943"]]),ae=A(d({__name:"wd-index-bar",props:X,setup(e){const a=e,n=u(`indexBar${r()}`),{proxy:o}=c(),i=j({activeIndex:null}),{linkChildren:t,children:s}=U(Z);t({props:a,anchorState:i}),I((()=>s),(e=>{e.length?z(i.activeIndex)&&e.find((e=>e.index===i.activeIndex))||(i.activeIndex=e[0].index):i.activeIndex=null}),{deep:!0,immediate:!0});const l=j({scrollTop:0,prevScrollTop:0,touching:!1});let d=0,h={offsetTop:0,indexHeight:24};function m(e){if(l.touching)return;const{detail:a}=e,n=Math.floor(a.scrollTop),o=s.find(((e,a)=>!z(s[a+1])||e.$.exposed.top.value-d<=n&&s[a+1].$.exposed.top.value-d>n));z(o)&&i.activeIndex!==o.index&&(i.activeIndex=o.index),l.prevScrollTop=n}function H(e){const a=e-h.offsetTop;let n=Math.floor(a/h.indexHeight);return n<0?n=0:n>s.length-1&&(n=s.length-1),s[n]}function E(){l.touching=!0}function F(e){const a=e.touches[0].pageY;i.activeIndex!==H(a).index&&(i.activeIndex=H(a).index,V(H(a).$.exposed.top.value-d))}function M(e){return a=this,n=null,o=function*(){const a=e.changedTouches[0].pageY;i.activeIndex=H(a).index,V(H(a).$.exposed.top.value-d),yield B(),l.touching=!1},new Promise(((i,t)=>{var s=a=>{try{d(o.next(a))}catch(e){t(e)}},l=a=>{try{d(o.throw(a))}catch(e){t(e)}},d=e=>e.done?i(e.value):Promise.resolve(e.value).then(s,l);d((o=o.apply(a,n)).next())}));var a,n,o}function V(e){l.scrollTop===e?(l.scrollTop=l.prevScrollTop,D((()=>{l.scrollTop=e}))):l.scrollTop=e}return g((()=>{setTimeout((()=>{Promise.all([w(`#${n.value}`,!1,o),w(".wd-index-bar__sidebar",!1,o),w(".wd-index-bar__index",!1,o)]).then((([e,a,n])=>{d=e.top,h.offsetTop=a.top,h.indexHeight=n.height}))}),100)})),(e,a)=>{const o=$,t=T;return x(),p(t,{class:"wd-index-bar",id:n.value},{default:v((()=>[k(o,{scrollTop:l.scrollTop,"scroll-y":!0,class:"wd-index-bar__content",onScroll:m},{default:v((()=>[f(e.$slots,"default",{},void 0,!0)])),_:3},8,["scrollTop"]),k(t,{class:"wd-index-bar__sidebar",onTouchstart:S(E,["stop","prevent"]),onTouchmove:S(F,["stop","prevent"]),onTouchend:S(M,["stop","prevent"]),onTouchcancel:S(M,["stop","prevent"])},{default:v((()=>[(x(!0),O(C,null,P(q(s),(e=>(x(),p(t,{class:_(["wd-index-bar__index",{"is-active":e.index===i.activeIndex}]),key:e.index},{default:v((()=>[b(y(e.index),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:3},8,["id"])}}}),[["__scopeId","data-v-acb5dd36"]]),ne=A(d({__name:"Index",setup(e){const{show:a}=J(),{t:n,locale:o}=H();I((()=>o.value),(()=>{d()})),g((()=>{d()}));const i=u(""),t=u([]),s=h((()=>[{index:"A",data:[n("a-ba"),n("a-la-shan"),n("a-li"),n("an-kang"),n("an-qing"),n("an-shan"),n("an-shun"),n("an-yang"),n("ao-men")]},{index:"B",data:[n("bei-jing"),n("bai-yin"),n("bao-ding"),n("bao-ji"),n("bao-shan"),n("bao-tou"),n("ba-zhong"),n("bei-hai"),n("bang-bu"),n("ben-xi"),n("bi-jie"),n("bin-zhou"),n("bai-se"),n("bo-zhou")]},{index:"C",data:[n("zhong-qing"),n("cheng-du"),n("chang-sha"),n("chang-chun"),n("cang-zhou"),n("chang-de"),n("chang-du"),n("chang-zhi"),n("chang-zhou"),n("chao-hu"),n("chao-zhou"),n("cheng-de"),n("chen-zhou"),n("chi-feng"),n("chi-zhou"),n("chong-zuo"),n("chu-xiong"),n("chu-zhou"),n("zhao-yang")]},{index:"D",data:[n("da-lian"),n("dong-guan"),n("da-li"),n("dan-dong"),n("da-qing"),n("da-tong"),n("da-xing-an-ling"),n("de-hong"),n("de-yang"),n("de-zhou"),n("ding-xi"),n("di-qing"),n("dong-ying")]},{index:"E",data:[n("e-er-duo-si"),n("en-shi"),n("e-zhou")]},{index:"F",data:[n("fu-zhou"),n("fang-cheng-gang"),n("fo-shan"),n("fu-shun"),n("fu-zhou-0"),n("fu-xin"),n("fu-yang")]},{index:"G",data:[n("guang-zhou"),n("gui-lin"),n("gui-yang"),n("gan-nan"),n("gan-zhou"),n("gan-zi"),n("guang-an"),n("guang-yuan"),n("gui-gang"),n("guo-luo")]},{index:"H",data:[n("hang-zhou"),n("ha-er-bin"),n("he-fei"),n("hai-kou"),n("hu-he-hao-te"),n("hai-bei"),n("hai-dong"),n("hai-nan"),n("hai-xi"),n("han-dan"),n("han-zhong"),n("he-bi"),n("he-chi"),n("he-gang"),n("hei-he"),n("heng-shui"),n("heng-yang"),n("he-yuan"),n("he-zhou"),n("hong-he"),n("huai-an"),n("huai-bei"),n("huai-hua"),n("huai-nan"),n("huang-gang"),n("huang-nan"),n("huang-shan"),n("huang-shi"),n("hui-zhou"),n("hu-lu-dao"),n("hu-lun-bei-er"),n("hu-zhou"),n("he-ze")]}]));function d(){t.value=[],D((()=>{i.value?t.value=s.value.filter((e=>e.data.some((e=>e.includes(i.value))))):t.value=s.value}))}function r(){i.value="",d()}return(e,o)=>{const s=E(F("wd-search"),l),u=E(F("wd-index-anchor"),ee),c=E(F("wd-cell"),L),h=T,g=E(F("wd-index-bar"),ae),f=E(F("page-wraper"),K);return x(),p(f,null,{default:v((()=>[k(s,{"hide-cancel":"",placeholder:e.$t("wo-yao-qu-na-li"),modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),onSearch:d,onClear:r},null,8,["placeholder","modelValue"]),k(h,{class:"wraper"},{default:v((()=>[t.value.length?(x(),p(g,{key:0,sticky:""},{default:v((()=>[(x(!0),O(C,null,P(t.value,(e=>(x(),p(h,{key:e.index},{default:v((()=>[k(u,{index:e.index},null,8,["index"]),(x(!0),O(C,null,P(e.data,(o=>(x(),p(c,{border:"",clickable:"",key:o,title:o,onClick:i=>function(e,o){a(n("dang-qian-dian-ji-xiang-index-cheng-shi-city",[e,o]))}(e.index,o)},null,8,["title","onClick"])))),128))])),_:2},1024)))),128))])),_:1})):M("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-cc431462"]]);export{ne as default};
