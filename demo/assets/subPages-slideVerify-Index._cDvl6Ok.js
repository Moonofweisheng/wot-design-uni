var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,u=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&u(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&u(e,s,t[s]);return e},n=(e,a)=>t(e,s(a));import{d as c,c as r,C as d,r as v,H as f,D as g,ac as h,b as y,g as _,w as p,h as m,i as b,E as w,k as x,j as z,t as k,G as $,L as j,q as C,u as F,e as T,f as O}from"./index-Bxqg77pZ.js";import{c as S,b as I,m as M,e as P,a as q,_ as B}from"./base64.C49xnrUQ.js";import{u as D}from"./useTouch.kX4jUfrK.js";import{u as E}from"./useTranslate.CsR2puND.js";import{_ as H}from"./demo-block.Q9ikF_jn.js";import{_ as N}from"./wd-button.Dfw0jUO9.js";import{d as G,a as V}from"./page-wraper.dVabujC3.js";const A=n(o({},S),{width:I(300),height:I(40),tolerance:I(10),text:M(""),successText:M(""),disabled:P(!1),backgroundColor:M("#F5F7FA"),activeBackgroundColor:M("#49C75F"),icon:M("a-chevron-rightdouble"),successIcon:M("check"),iconSize:I(20),successIconSize:I(12)}),K=B(c(n(o({},{name:"wd-slide-verify",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:A,emits:["success","fail"],setup(e,{expose:t,emit:s}){const a=e,l=s,i=D(),{translate:u}=E("slideVerify"),o=r((()=>d(a.text)&&""!==a.text?a.text:u("text"))),n=r((()=>d(a.successText)&&""!==a.successText?a.successText:u("successText"))),c=r((()=>["wd-slide-verify",{"is-disabled":a.disabled,"is-success":H.value,"is-dragging":N.value},a.customClass])),F=r((()=>{const e={width:f(a.width),height:f(a.height),backgroundColor:a.backgroundColor};return`${g(e)}${a.customStyle}`})),T=r((()=>{const e=a.height,t={width:f(e),height:f(e),transform:`translate(${P.value}px, 0)`,transition:G.value?"all 0.3s ease":"none","--wd-slide-verify-button-size":f(e)};return g(t)})),O=r((()=>{const e={width:`${P.value}px`,background:a.activeBackgroundColor,"--wot-slide-verify-track-width":f(a.width)};return g(e)})),S=e=>{if("number"==typeof e)return e;const t=parseFloat(String(e));return isNaN(t)?0:t},I=r((()=>{const e=S(a.width),t=S(a.height);return!isFinite(e)||!isFinite(t)||e<=0||t<=0?0:Math.max(0,e-t)})),M=r((()=>Math.abs(I.value-P.value)<=S(a.tolerance))),P=v(0),B=v(0),H=v(!1),N=v(!1),G=v(!1),V=e=>{var t,s,a;P.value=(t=e,s=0,a=I.value,Math.max(s,Math.min(t,a)))},A=r((()=>a.disabled||H.value)),K=e=>{A.value||N.value||(i.touchStart(e),B.value=P.value,N.value=!0)},L=e=>{!A.value&&N.value&&(i.touchMove(e),V(B.value+i.deltaX.value))},R=v(null),X=()=>{!A.value&&N.value&&(N.value=!1,M.value?(V(I.value),H.value=!0,l("success")):(G.value=!0,V(0),l("fail"),R.value=setTimeout((()=>{G.value=!1}),300)))};h((()=>{null!==R.value&&(clearTimeout(R.value),R.value=null)}));return t({reset:()=>{null!==R.value&&(clearTimeout(R.value),R.value=null),G.value=!0,P.value=0,B.value=0,H.value=!1,N.value=!1,R.value=setTimeout((()=>{G.value=!1}),300)}}),(e,t)=>{const s=x,a=b;return _(),y(a,{class:C(c.value),style:$(F.value)},{default:p((()=>[m(a,{class:"wd-slide-verify__text"},{default:p((()=>[w(e.$slots,"text",{},(()=>[m(s,{class:"wd-slide-verify__text-inner"},{default:p((()=>[z(k(o.value),1)])),_:1})]),!0)])),_:3}),m(a,{class:"wd-slide-verify__track",style:$(O.value)},{default:p((()=>[m(a,{class:"wd-slide-verify__track-text"},{default:p((()=>[w(e.$slots,"success-text",{},(()=>[m(s,{class:"wd-slide-verify__track-text--success"},{default:p((()=>[z(k(n.value),1)])),_:1})]),!0)])),_:3})])),_:3},8,["style"]),m(a,{class:"wd-slide-verify__button",onTouchstart:j(K,["prevent"]),onTouchmove:j(L,["prevent"]),onTouchend:X,style:$(T.value)},{default:p((()=>[H.value?w(e.$slots,"success-icon",{key:0},(()=>[m(a,{class:"wd-slide-verify__button-icon--success",style:$({backgroundColor:e.activeBackgroundColor})},{default:p((()=>[m(q,{name:e.successIcon,size:e.successIconSize,color:"#fff"},null,8,["name","size"])])),_:1},8,["style"])]),!0):w(e.$slots,"icon",{key:1},(()=>[m(a,{class:"wd-slide-verify__button-icon"},{default:p((()=>[m(q,{name:e.icon,size:e.iconSize},null,8,["name","size"])])),_:1})]),!0)])),_:3},8,["style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-a505cba1"]]),L=B(c({__name:"Index",setup(e){const t=G(),{t:s}=F(),a=v();function l(){t.success(s("yan-zheng-cheng-gong"))}function i(){t.error(s("yan-zheng-shi-bai-qing-chong-shi"))}function u(){var e;null==(e=a.value)||e.reset(),t.info(s("yi-zhong-zhi"))}return(e,t)=>{const s=T(O("wd-slide-verify"),K),o=T(O("demo-block"),H),n=T(O("wd-button"),N),c=x,r=b,d=T(O("page-wraper"),V);return _(),y(d,null,{default:p((()=>[m(o,{title:e.$t("ji-chu-yong-fa")},{default:p((()=>[m(s,{onSuccess:l,onFail:i})])),_:1},8,["title"]),m(o,{title:e.$t("zi-ding-yi-wen-an")},{default:p((()=>[m(s,{text:e.$t("qing-tuo-dong-hua-kuai"),"success-text":e.$t("yan-zheng-cheng-gong")},null,8,["text","success-text"])])),_:1},8,["title"]),m(o,{title:e.$t("zi-ding-yi-chi-cun")},{default:p((()=>[m(s,{width:250,height:50,"icon-size":"60rpx","success-icon-size":"30rpx"})])),_:1},8,["title"]),m(o,{title:e.$t("zi-ding-yi-yan-se")},{default:p((()=>[m(s,{"background-color":"#E8F4FF","active-background-color":"#4D94FF"})])),_:1},8,["title"]),m(o,{title:e.$t("zi-ding-yi-tu-biao")},{default:p((()=>[m(s,{icon:"arrow-right","success-icon":"read","icon-size":24,"success-icon-size":14})])),_:1},8,["title"]),m(o,{title:e.$t("zi-ding-yi-rong-cuo-fan-wei")},{default:p((()=>[m(s,{tolerance:20})])),_:1},8,["title"]),m(o,{title:e.$t("jin-yong-zhuang-tai")},{default:p((()=>[m(s,{disabled:""})])),_:1},8,["title"]),m(o,{title:e.$t("zhong-zhi-fang-fa")},{default:p((()=>[m(s,{ref_key:"slideVerifyRef",ref:a,onSuccess:l,onFail:i},null,512),m(n,{type:"primary",onClick:u,style:{"margin-top":"20px"}},{default:p((()=>[z(k(e.$t("zhong-zhi")),1)])),_:1})])),_:1},8,["title"]),m(o,{title:e.$t("cha-cao-yong-fa")},{default:p((()=>[m(s,null,{text:p((()=>[m(c,null,{default:p((()=>[z("Slide right to complete verification")])),_:1})])),"success-text":p((()=>[m(c,null,{default:p((()=>[z(k(e.$t("yan-zheng-tong-guo")),1)])),_:1})])),icon:p((()=>[m(r,null,{default:p((()=>[z("ICON")])),_:1})])),"success-icon":p((()=>[m(r,{style:{color:"red"}},{default:p((()=>[z("OK")])),_:1})])),_:1})])),_:1},8,["title"])])),_:1})}}}),[["__scopeId","data-v-88b51d42"]]);export{L as default};
