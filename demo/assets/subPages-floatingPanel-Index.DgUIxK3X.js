var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,r=(a,e)=>{for(var t in e||(e={}))o.call(e,t)&&n(a,t,e[t]);if(s)for(var t of s(e))l.call(e,t)&&n(a,t,e[t]);return a},u=(a,s)=>e(a,t(s));import{d as i,e as c,_ as d,a as h}from"./page-wraper.dVabujC3.js";import{d as g,r as m,c as p,H as v,D as f,I as b,a7 as w,_,b as j,g as y,w as $,h as I,i as O,q as T,aF as x,L as P,E as H,G as S,bc as z,W as D,m as M,F as A,e as B,f as C,n as E,j as F,t as V,l as k}from"./index-Bxqg77pZ.js";import{_ as G}from"./wd-cell-group._k6w1rnH.js";import{c as U,t as Y,b as q,e as L,g as W,d as J,_ as K}from"./base64.C49xnrUQ.js";import{u as N}from"./useTouch.kX4jUfrK.js";import{_ as Q,a as R}from"./wd-tabs.CVoneDKq.js";import"./wd-badge.CbLj-T0n.js";import"./wd-sticky-box.DQPIDfn0.js";import"./wd-resize.d2LcChai.js";import"./useTranslate.CsR2puND.js";const X=u(r({},U),{height:J(0),anchors:W(),safeAreaInsetBottom:L(!1),showScrollbar:Y,duration:q(300),contentDraggable:Y}),Z=K(g(u(r({},{name:"wd-floating-panel",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:X,emits:["update:height","height-change"],setup(a,{emit:e}){const t=N(),s=a,o=e,l=m(s.height);let n;const r=m(0),u=m(!1),i=p((()=>({min:s.anchors[0]?s.anchors[0]:100,max:s.anchors[s.anchors.length-1]?s.anchors[s.anchors.length-1]:Math.round(.6*r.value)}))),c=p((()=>s.anchors.length>=2?s.anchors:[i.value.min,i.value.max])),d=p((()=>{const a={height:v(i.value.max),transform:`translateY(calc(100% + ${v(-l.value)}))`,transition:u.value?"none":`transform ${s.duration}ms cubic-bezier(0.18, 0.89, 0.32, 1.28)`};return`${f(a)}${s.customStyle}`})),h=a=>{l.value=a,o("update:height",a)},g=a=>{t.touchStart(a),u.value=!0,n=-l.value},D=a=>{if("content"==a.currentTarget.dataset.id&&!s.contentDraggable)return;t.touchMove(a);const e=t.deltaY.value+n;h(-A(e))},M=()=>{u.value=!1,h(z(c.value,l.value)),l.value!==-n&&o("height-change",{height:l.value})},A=a=>{const e=Math.abs(a),{min:t,max:s}=i.value;return e>s?-(s+.2*(e-s)):e<t?-(t-.2*(t-e)):a};return b((()=>s.height),(a=>{l.value=a})),b(i,(()=>{h(z(c.value,l.value))}),{immediate:!0}),w((()=>{const{windowHeight:a}=_();r.value=a})),(a,e)=>{const t=O,s=x;return y(),j(t,{class:T(`wd-floating-panel ${a.customClass} ${a.safeAreaInsetBottom?"is-safe":""}`),style:S(d.value),onTouchstartPassive:g,onTouchmovePassive:D,onTouchend:M,onTouchcancel:M},{default:$((()=>[I(t,{class:T("wd-floating-panel__header")},{default:$((()=>[I(t,{class:T("wd-floating-panel__header-bar")})])),_:1}),I(s,{class:T("wd-floating-panel__content"),"data-id":"content","show-scrollbar":a.showScrollbar,"scroll-y":"",onTouchmove:P(D,["stop","prevent"])},{default:$((()=>[H(a.$slots,"default",{},void 0,!0)])),_:3},8,["show-scrollbar"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-27b23456"]]),aa=K(g({__name:"Index",setup(a){const{show:e}=i(),t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=m(0),o=m(0),l=m(0),n=m([]),r=({height:a})=>{e(v(a))};return D((()=>{l.value=_().windowHeight,n.value=[100,Math.round(.4*l.value),Math.round(.7*l.value)],o.value=n.value[1]})),(a,e)=>{const l=B(C("wd-toast"),c),u=B(C("wd-cell"),d),i=B(C("wd-cell-group"),G),g=B(C("wd-floating-panel"),Z),m=B(C("wd-tab"),Q),p=O,f=B(C("wd-tabs"),R),b=B(C("page-wraper"),h);return y(),M(A,null,[I(l),I(p,{class:"floating-panel"},{default:$((()=>[I(b,null,{default:$((()=>[I(f,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value=a)},{default:$((()=>[I(m,{title:a.$t("ji-chu-yong-fa-1")},{default:$((()=>[I(g,{safeAreaInsetBottom:""},{default:$((()=>[I(i,{border:""},{default:$((()=>[(y(),M(A,null,E(t,(a=>I(u,{key:a,title:a},null,8,["title"]))),64))])),_:1})])),_:1})])),_:1},8,["title"]),I(m,{title:a.$t("zi-ding-yi-mao-dian-0")},{default:$((()=>[I(g,{height:o.value,"onUpdate:height":e[0]||(e[0]=a=>o.value=a),anchors:n.value,safeAreaInsetBottom:"",onHeightChange:r},{default:$((()=>[I(p,{class:"inner-content"},{default:$((()=>[F(V(a.$t('"zi-ding-yi-mao-dian"'))+" "+V(n.value.map(k(v)))+" - "+V(k(v)(o.value.toFixed(0))),1)])),_:1})])),_:1},8,["height","anchors"])])),_:1},8,["title"]),I(m,{title:a.$t("jin-tou-bu-tuo-zhuai-0")},{default:$((()=>[I(g,{contentDraggable:!1},{default:$((()=>[I(p,{class:"inner-content"},{default:$((()=>[F(V(a.$t("nei-rong-qu-bu-ke-yi-tuo-zhuai")),1)])),_:1})])),_:1})])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-303ac8e3"]]);export{aa as default};
