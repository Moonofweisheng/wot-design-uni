var e=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(o,s,t)=>s in o?e(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,r=(e,o)=>{for(var s in o||(o={}))a.call(o,s)&&n(e,s,o[s]);if(t)for(var s of t(o))l.call(o,s)&&n(e,s,o[s]);return e},c=(e,t)=>o(e,s(t));import{d as p,a4 as u,K as i,r as m,I as d,y as v,a7 as y,ac as _,b as f,g as w,w as b,h as k,i as C,q as h,z as j,j as g,t as O,m as S,F as P,n as A,k as $,l as x,E as I,G as Q,L as T,N as V}from"./index-Bxqg77pZ.js";import{m as F,e as q,d as E,c as G,a as K,_ as L}from"./base64.C49xnrUQ.js";import{q as z,w as D}from"./page-wraper.dVabujC3.js";import{u as H}from"./usePopover.DrfkN2nd.js";import{r as N,p as B,c as J}from"./clickoutside.CJmLG0WC.js";const M=c(r({},G),{customArrow:F(""),customPop:F(""),visibleArrow:q(!0),content:[String,Object],placement:F("bottom"),offset:E(0),useContentSlot:q(!1),disabled:q(!1),showClose:q(!1),modelValue:q(!1),mode:F("normal")}),R=L(p(c(r({},{name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:M,emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:o,emit:s}){const t=e,a=s,l=u(z,null),n="popover",{proxy:r}=i(),c=H(t.visibleArrow),p=m(!1);function F(e){E(!1),a("menuclick",{item:t.content[e],index:e})}function q(){t.disabled||E(!p.value)}function E(e){p.value=e,a("update:modelValue",e)}return d((()=>t.content),(e=>{const{mode:o}=t;"normal"===o&&"string"!=typeof e?console.error("The value type must be a string type in normal mode"):"menu"!==o||V(e)||console.error("The value type must be a Array type in menu mode")})),d((()=>t.placement),(()=>{c.init(t.placement,t.visibleArrow,n)})),d((()=>t.modelValue),(e=>{p.value=e})),d((()=>p.value),(e=>{e&&(c.control(t.placement,t.offset),l&&l.closeOther?l.closeOther(r):J(r)),c.showStyle.value=e?"display: inline-block;":"display: none;",a("change",{show:e}),a(""+(e?"open":"close"))})),v((()=>{c.init(t.placement,t.visibleArrow,n)})),y((()=>{l&&l.pushToQueue?l.pushToQueue(r):B(r),c.showStyle.value=p.value?"opacity: 1;":"opacity: 0;"})),_((()=>{l&&l.removeFromQueue?l.removeFromQueue(r):N(r)})),o({open:function(){E(!0)},close:function(){E(!1)}}),(e,o)=>{const s=C,a=$;return w(),f(s,{class:h(`wd-popover ${e.customClass}`),style:Q(e.customStyle),id:"popover",onClick:T(x(c).noop,["stop"])},{default:b((()=>[k(s,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:b((()=>[k(s,{class:h(`wd-popover__container ${e.customPop}`)},{default:b((()=>[e.useContentSlot||"normal"!==e.mode?j("",!0):(w(),f(s,{key:0,class:"wd-popover__inner"},{default:b((()=>[g(O(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?j("",!0):(w(),f(s,{key:1,class:"wd-popover__menu"},{default:b((()=>[(w(!0),S(P,null,A(e.content,((e,o)=>(w(),f(s,{key:o,class:"wd-popover__menu-inner",onClick:e=>F(o)},{default:b((()=>[e.iconClass?(w(),f(K,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):j("",!0),k(a,null,{default:b((()=>[g(O(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),k(D,{"custom-class":"wd-popover__pos","custom-style":x(c).popStyle.value,show:p.value,name:"fade",duration:200},{default:b((()=>[k(s,{class:h(`wd-popover__container ${e.customPop}`)},{default:b((()=>[t.visibleArrow?(w(),f(s,{key:0,class:h(`wd-popover__arrow ${x(c).arrowClass.value} ${e.customArrow}`),style:Q(x(c).arrowStyle.value)},null,8,["class","style"])):j("",!0),e.useContentSlot||"normal"!==e.mode?j("",!0):(w(),f(s,{key:1,class:"wd-popover__inner"},{default:b((()=>[g(O(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?I(e.$slots,"content",{key:3},void 0,!0):(w(),f(s,{key:2,class:"wd-popover__menu"},{default:b((()=>[(w(!0),S(P,null,A(e.content,((e,o)=>(w(),f(s,{key:o,class:"wd-popover__menu-inner",onClick:e=>F(o),style:Q(0===o?"border-top: none":"")},{default:b((()=>["object"==typeof e&&e.iconClass?(w(),f(K,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):j("",!0),k(s,{style:{display:"inline-block"}},{default:b((()=>[g(O("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(w(),f(K,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:q})):j("",!0)])),_:3},8,["custom-style","show"]),k(s,{onClick:q,class:"wd-popover__target",id:"target"},{default:b((()=>[I(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}})),[["__scopeId","data-v-afb9ce0f"]]);export{R as _};
