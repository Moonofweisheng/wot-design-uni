var e=Object.defineProperty,a=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,d=(a,n,o)=>n in a?e(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o;import{_ as l}from"./wd-search.DVIiqo6y.js";import{d as s,r as u,Z as c,K as h,c as r,y as g,b as p,g as x,w as v,E as f,j as b,t as y,G as _,q as m,M as w,C as z,i as T,aj as I,I as j,h as k,aF as $,L as S,m as O,F as C,n as P,l as q,O as H,aD as M,u as B,e as D,f as E,z as F}from"./index-Bxqg77pZ.js";import{c as V,f as A,e as G,_ as Y}from"./base64.C49xnrUQ.js";import{b as K,c as L,d as N,a as U,_ as Z}from"./page-wraper.dVabujC3.js";import"./useTranslate.CsR2puND.js";const J=(Q=((e,a)=>{for(var n in a||(a={}))i.call(a,n)&&d(e,n,a[n]);if(o)for(var n of o(a))t.call(a,n)&&d(e,n,a[n]);return e})({},V),R={index:A([String,Number])},a(Q,n(R)));var Q,R;const W={sticky:G(!1)},X=Symbol("wd-index-bar"),ee=Y(s({__name:"wd-index-anchor",props:J,setup(e,{expose:a}){const n=e,{parent:o}=K(X),i=u(`indexBar${c()}`),{proxy:t}=h(),d=u(0),l=r((()=>o&&o.props.sticky&&o.anchorState.activeIndex===n.index));return g((()=>{w(`#${i.value}`,!1,t).then((e=>{z(o)&&(d.value=Math.floor(e.top))}))})),a({top:d}),(e,a)=>{const n=T;return x(),p(n,{class:m(`wd-index-anchor ${l.value?"is-sticky":""} ${e.customClass}`),style:_(e.customStyle),id:i.value},{default:v((()=>[f(e.$slots,"default",{},(()=>[b(y(e.index),1)]),!0)])),_:3},8,["class","style","id"])}}}),[["__scopeId","data-v-2964c943"]]),ae=Y(s({__name:"wd-index-bar",props:W,setup(e){const a=e,n=u(`indexBar${c()}`),{proxy:o}=h(),i=I({activeIndex:null}),{linkChildren:t,children:d}=L(X);t({props:a,anchorState:i}),j((()=>d),(e=>{e.length?z(i.activeIndex)&&e.find((e=>e.index===i.activeIndex))||(i.activeIndex=e[0].index):i.activeIndex=null}),{deep:!0,immediate:!0});const l=I({scrollTop:0,prevScrollTop:0,touching:!1});let s=0,r={offsetTop:0,indexHeight:24};function _(e){if(l.touching)return;const{detail:a}=e,n=Math.floor(a.scrollTop),o=d.find(((e,a)=>!z(d[a+1])||e.$.exposed.top.value-s<=n&&d[a+1].$.exposed.top.value-s>n));z(o)&&i.activeIndex!==o.index&&(i.activeIndex=o.index),l.prevScrollTop=n}function B(e){const a=e-r.offsetTop;let n=Math.floor(a/r.indexHeight);return n<0?n=0:n>d.length-1&&(n=d.length-1),d[n]}function D(){l.touching=!0}function E(e){const a=e.touches[0].pageY;i.activeIndex!==B(a).index&&(i.activeIndex=B(a).index,V(B(a).$.exposed.top.value-s))}function F(e){return a=this,n=null,o=function*(){const a=e.changedTouches[0].pageY;i.activeIndex=B(a).index,V(B(a).$.exposed.top.value-s),yield H(),l.touching=!1},new Promise(((i,t)=>{var d=a=>{try{s(o.next(a))}catch(e){t(e)}},l=a=>{try{s(o.throw(a))}catch(e){t(e)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(d,l);s((o=o.apply(a,n)).next())}));var a,n,o}function V(e){l.scrollTop===e?(l.scrollTop=l.prevScrollTop,M((()=>{l.scrollTop=e}))):l.scrollTop=e}return g((()=>{setTimeout((()=>{Promise.all([w(`#${n.value}`,!1,o),w(".wd-index-bar__sidebar",!1,o),w(".wd-index-bar__index",!1,o)]).then((([e,a,n])=>{s=e.top,r.offsetTop=a.top,r.indexHeight=n.height}))}),100)})),(e,a)=>{const o=$,t=T;return x(),p(t,{class:"wd-index-bar",id:n.value},{default:v((()=>[k(o,{scrollTop:l.scrollTop,"scroll-y":!0,class:"wd-index-bar__content",onScroll:_},{default:v((()=>[f(e.$slots,"default",{},void 0,!0)])),_:3},8,["scrollTop"]),k(t,{class:"wd-index-bar__sidebar",onTouchstart:S(D,["stop","prevent"]),onTouchmove:S(E,["stop","prevent"]),onTouchend:S(F,["stop","prevent"]),onTouchcancel:S(F,["stop","prevent"])},{default:v((()=>[(x(!0),O(C,null,P(q(d),(e=>(x(),p(t,{class:m(["wd-index-bar__index",{"is-active":e.index===i.activeIndex}]),key:e.index},{default:v((()=>[b(y(e.index),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:3},8,["id"])}}}),[["__scopeId","data-v-acb5dd36"]]),ne=Y(s({__name:"Index",setup(e){const{show:a}=N(),{t:n,locale:o}=B();j((()=>o.value),(()=>{s()})),g((()=>{s()}));const i=u(""),t=u([]),d=r((()=>[{index:"A",data:[n("a-ba"),n("a-la-shan"),n("a-li"),n("an-kang"),n("an-qing"),n("an-shan"),n("an-shun"),n("an-yang"),n("ao-men")]},{index:"B",data:[n("bei-jing"),n("bai-yin"),n("bao-ding"),n("bao-ji"),n("bao-shan"),n("bao-tou"),n("ba-zhong"),n("bei-hai"),n("bang-bu"),n("ben-xi"),n("bi-jie"),n("bin-zhou"),n("bai-se"),n("bo-zhou")]},{index:"C",data:[n("zhong-qing"),n("cheng-du"),n("chang-sha"),n("chang-chun"),n("cang-zhou"),n("chang-de"),n("chang-du"),n("chang-zhi"),n("chang-zhou"),n("chao-hu"),n("chao-zhou"),n("cheng-de"),n("chen-zhou"),n("chi-feng"),n("chi-zhou"),n("chong-zuo"),n("chu-xiong"),n("chu-zhou"),n("zhao-yang")]},{index:"D",data:[n("da-lian"),n("dong-guan"),n("da-li"),n("dan-dong"),n("da-qing"),n("da-tong"),n("da-xing-an-ling"),n("de-hong"),n("de-yang"),n("de-zhou"),n("ding-xi"),n("di-qing"),n("dong-ying")]},{index:"E",data:[n("e-er-duo-si"),n("en-shi"),n("e-zhou")]},{index:"F",data:[n("fu-zhou"),n("fang-cheng-gang"),n("fo-shan"),n("fu-shun"),n("fu-zhou-0"),n("fu-xin"),n("fu-yang")]},{index:"G",data:[n("guang-zhou"),n("gui-lin"),n("gui-yang"),n("gan-nan"),n("gan-zhou"),n("gan-zi"),n("guang-an"),n("guang-yuan"),n("gui-gang"),n("guo-luo")]},{index:"H",data:[n("hang-zhou"),n("ha-er-bin"),n("he-fei"),n("hai-kou"),n("hu-he-hao-te"),n("hai-bei"),n("hai-dong"),n("hai-nan"),n("hai-xi"),n("han-dan"),n("han-zhong"),n("he-bi"),n("he-chi"),n("he-gang"),n("hei-he"),n("heng-shui"),n("heng-yang"),n("he-yuan"),n("he-zhou"),n("hong-he"),n("huai-an"),n("huai-bei"),n("huai-hua"),n("huai-nan"),n("huang-gang"),n("huang-nan"),n("huang-shan"),n("huang-shi"),n("hui-zhou"),n("hu-lu-dao"),n("hu-lun-bei-er"),n("hu-zhou"),n("he-ze")]}]));function s(){t.value=[],M((()=>{i.value?t.value=d.value.filter((e=>e.data.some((e=>e.includes(i.value))))):t.value=d.value}))}function c(){i.value="",s()}return(e,o)=>{const d=D(E("wd-search"),l),u=D(E("wd-index-anchor"),ee),h=D(E("wd-cell"),Z),r=T,g=D(E("wd-index-bar"),ae),f=D(E("page-wraper"),U);return x(),p(f,null,{default:v((()=>[k(d,{"hide-cancel":"",placeholder:e.$t("wo-yao-qu-na-li"),modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),onSearch:s,onClear:c},null,8,["placeholder","modelValue"]),k(r,{class:"wraper"},{default:v((()=>[t.value.length?(x(),p(g,{key:0,sticky:""},{default:v((()=>[(x(!0),O(C,null,P(t.value,(e=>(x(),p(r,{key:e.index},{default:v((()=>[k(u,{index:e.index},null,8,["index"]),(x(!0),O(C,null,P(e.data,(o=>(x(),p(h,{border:"",clickable:"",key:o,title:o,onClick:i=>function(e,o){a(n("dang-qian-dian-ji-xiang-index-cheng-shi-city",[e,o]))}(e.index,o)},null,8,["title","onClick"])))),128))])),_:2},1024)))),128))])),_:1})):F("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-cc431462"]]);export{ne as default};
